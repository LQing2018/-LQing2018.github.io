<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>JavaScriptæ­£åˆ™</title>
    <url>/2021/08/23/JavaScript%E6%AD%A3%E5%88%99/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><pre><code>ä»Šå¤©è¿™ä¸ªé¡¹ç›®ï¼Œæœ‰ä¸ªè¡¨å•æäº¤ï¼Œé‡Œé¢æœ‰ä¸ªç­çº§è¾“å…¥çš„inputï¼Œå®¢æˆ·éœ€è¦é™åˆ¶ è¾“å…¥ä¸­æ–‡ ä¸” é™åˆ¶å­—æ•°
æ­£åˆ™å°±æ˜¯æœ€ç›´æ¥çš„ä½¿ç”¨æ–¹æ³•
</code></pre>
<h2 id="âœ¨-å¸¸è§çš„å‡ ç§æ­£åˆ™"><a href="#âœ¨-å¸¸è§çš„å‡ ç§æ­£åˆ™" class="headerlink" title="âœ¨ å¸¸è§çš„å‡ ç§æ­£åˆ™"></a>âœ¨ å¸¸è§çš„å‡ ç§æ­£åˆ™</h2><ul>
<li>ä¸­æ–‡</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[\u0391-\uFFE5]&#123;2,6&#125;$/</span>;</span><br><span class="line"><span class="keyword">if</span> (!reg.test(str)) &#123;</span><br><span class="line">  mui.alert(<span class="string">&quot;è¯·å¡«å†™æ±‰å­—(2-6ä½)&quot;</span>, <span class="string">&quot;æç¤º&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;);</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/regex.png" alt="Alt text"></p>
<ul>
<li>åŒ¹é…æ‰‹æœºå·</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[1][3,4,5,6,7,8,9][0-9]&#123;9&#125;$/</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^1[34578]\d&#123;9&#125;$/</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç”¨æˆ·åæ­£åˆ™ï¼Œ4 åˆ° 16 ä½ï¼ˆå­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œå‡å·ï¼‰</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[a-zA-Z0-9_-]&#123;4,16&#125;$/</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•´æ•°ç±»</li>
</ul>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ­£æ•´æ•°æ­£åˆ™</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\d+$/</span>;</span><br><span class="line"><span class="comment">//è´Ÿæ•´æ•°æ­£åˆ™</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^-\d+$/</span>;</span><br><span class="line"><span class="comment">//æ•´æ•°æ­£åˆ™</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^-?\d+$/</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•°å­—ç±»</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ­£æ•°æ­£åˆ™</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\d*\.?\d+$/</span>;</span><br><span class="line"><span class="comment">//è´Ÿæ•°æ­£åˆ™</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^-\d*\.?\d+$/</span>;</span><br><span class="line"><span class="comment">//æ•°å­—æ­£åˆ™</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^-?\d*\.?\d+$/</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>Emailæ­£åˆ™</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]&#123;2,4&#125;)$/</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ—¥æœŸç±»</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ—¥æœŸæ­£åˆ™ï¼Œç®€å•åˆ¤å®š,æœªåšæœˆä»½åŠæ—¥æœŸçš„åˆ¤å®š</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\d&#123;4&#125;(\-)\d&#123;1,2&#125;\1\d&#123;1,2&#125;$/</span>;</span><br><span class="line"><span class="comment">//æ—¥æœŸæ­£åˆ™ï¼Œå¤æ‚åˆ¤å®š</span></span><br><span class="line"><span class="keyword">var</span> dP2 = <span class="regexp">/^(?:(?!0000)[0-9]&#123;4&#125;-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]&#123;2&#125;(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¾®ä¿¡å·æ­£åˆ™</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¾®ä¿¡å·æ­£åˆ™ï¼Œ6è‡³20ä½ï¼Œä»¥å­—æ¯å¼€å¤´ï¼Œå­—æ¯ï¼Œæ•°å­—ï¼Œå‡å·ï¼Œä¸‹åˆ’çº¿</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[a-zA-Z]([-_a-zA-Z0-9]&#123;5,19&#125;)+$/</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>èº«ä»½è¯å·æ­£åˆ™</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[1-9]\d&#123;5&#125;(18|19|([23]\d))\d&#123;2&#125;((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d&#123;3&#125;[0-9Xx]$/</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>IPv4åœ°å€æ­£åˆ™</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.)&#123;3&#125;(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>URLæ­£åˆ™</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]&#123;2,6&#125;)([\/\w \.-]*)*\/?$/</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>åå…­è¿›åˆ¶é¢œè‰²æ­£åˆ™</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^#?([a-fA-F0-9]&#123;6&#125;|[a-fA-F0-9]&#123;3&#125;)$/</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>è½¦ç‰Œå·æ­£åˆ™</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è½¦ç‰Œå·æ­£åˆ™</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[äº¬æ´¥æ²ªæ¸å†€è±«äº‘è¾½é»‘æ¹˜çš–é²æ–°è‹æµ™èµ£é„‚æ¡‚ç”˜æ™‹è’™é™•å‰é—½è´µç²¤é’è—å·å®ç¼ä½¿é¢†A-Z]&#123;1&#125;[A-Z]&#123;1&#125;[A-Z0-9]&#123;4&#125;[A-Z0-9æŒ‚å­¦è­¦æ¸¯æ¾³]&#123;1&#125;$/</span>;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>canvas</title>
    <url>/2021/08/12/canvas/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="âœ¨-å·¥ä½œä¸­canvasçš„ä½¿ç”¨"><a href="#âœ¨-å·¥ä½œä¸­canvasçš„ä½¿ç”¨" class="headerlink" title="âœ¨ å·¥ä½œä¸­canvasçš„ä½¿ç”¨"></a>âœ¨ å·¥ä½œä¸­canvasçš„ä½¿ç”¨</h2><pre><code>æœ€è¿‘å‘¢ï¼Œå…¬å¸æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦åšä¸€ä¸ªæŸ¥æ‰¾äººç‰©çš„å°æ¸¸æˆã€‚ç±»ä¼¼ï¼š
</code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/cancas1.jpg" alt="Alt text"><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/cancas2.jpg" alt="Alt text"></p>
<h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><pre><code>picsnames ä¸ºç´ æå›¾ç‰‡çš„é›†åˆï¼Œéœ€è¦å†é¡µé¢ img ~ onload() åŠ è½½å®Œæˆåï¼Œå¯¹canvas è¿›è¡Œ ç»˜ç”» drawImage()

è®¾ç½® canvas çš„å®½é«˜ ä¸ºè®¾å¤‡å®½é«˜
</code></pre>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">picsnames: [<span class="string">&quot;./img/21.png&quot;</span>, <span class="string">&quot;./img/22.png&quot;</span>, ...],</span><br><span class="line"><span class="attr">cwidth</span>: <span class="built_in">document</span>.documentElement.clientWidth,</span><br><span class="line"><span class="attr">cheight</span>: <span class="built_in">document</span>.documentElement.clientHeight,</span><br></pre></td></tr></table></figure>
<blockquote>
<p>1ã€ç”»å¸ƒä¸Šï¼Œéšæœºä½ç½® - å¾ªç¯ - ç”»å‡ºå°ç´ æå›¾ç‰‡ </p>
<p>2ã€éšæœºä½ç½®ï¼Œæ˜¾ç¤ºå‡º å°äººç‰© </p>
<p>3ã€è°ƒæ•´ canvas åŠ å°äººç‰©  çš„ å›¾å±‚</p>
<p>4ã€ç»™ å°äººç‰© æ·»åŠ  click äº‹ä»¶ ( å¦‚ï¼šç‚¹å‡»åæ”¹å˜å›¾å±‚çš„å±‚çº§è‡³é¡¶å±‚ )</p>
<p>5ã€é‡æ–°æ¸…ç©ºcanvas ï¼Œç»§ç»­ä¸‹ä¸€ä¸ª ç”»å¸ƒ åŠ å°äººç‰© å¹¶ç§¯åˆ† </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> _this = <span class="built_in">this</span></span><br><span class="line">            <span class="keyword">if</span> (_this.canvas.getContext) &#123;</span><br><span class="line">                _this.canvas.width = _this.cwidth;</span><br><span class="line">                _this.canvas.height = _this.cheight;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; _this.picsnames.length; i++) &#123;</span><br><span class="line">                    <span class="keyword">let</span> img = <span class="keyword">new</span> Image();</span><br><span class="line">                    img.src = _this.picsnames[i];</span><br><span class="line">                    img.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; num; index++) &#123;</span><br><span class="line">                            <span class="keyword">let</span> randomX = <span class="built_in">Math</span>.random() * _this.canvas.width - <span class="number">400</span> / _this.randomnum;</span><br><span class="line">                            <span class="keyword">let</span> randomY = <span class="built_in">Math</span>.random() * _this.canvas.height * <span class="number">0.8</span> + <span class="number">40</span>;</span><br><span class="line">                            _this.context.drawImage(img, randomX, randomY, <span class="number">400</span> / _this.randomnum + <span class="number">12</span>, <span class="number">400</span> / _this.randomnum + <span class="number">12</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>Echartsæ•°æ®å¯è§†åŒ–legendå›¾ä¾‹å±æ€§</title>
    <url>/2021/07/16/echarts/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="âœ¨-Echarts-æ•°æ®å¯è§†åŒ–-legend-å›¾ä¾‹å±æ€§è®¾ç½®"><a href="#âœ¨-Echarts-æ•°æ®å¯è§†åŒ–-legend-å›¾ä¾‹å±æ€§è®¾ç½®" class="headerlink" title="âœ¨ Echarts æ•°æ®å¯è§†åŒ– legend å›¾ä¾‹å±æ€§è®¾ç½®"></a>âœ¨ Echarts æ•°æ®å¯è§†åŒ– legend å›¾ä¾‹å±æ€§è®¾ç½®</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">//Echartsæ•°æ®å¯è§†åŒ–legendå›¾ä¾‹å±æ€§è®¾ç½®</span><br><span class="line">legend=&#123;</span><br><span class="line">    show:<span class="literal">true</span>,                                  //æ˜¯å¦æ˜¾ç¤º</span><br><span class="line">    zlevel:0,                                   //æ‰€å±å›¾å½¢çš„Canvasåˆ†å±‚ï¼Œzlevel å¤§çš„ Canvas ä¼šæ”¾åœ¨ zlevel å°çš„ Canvas çš„ä¸Šé¢</span><br><span class="line">    z:2,                                        //æ‰€å±ç»„ä»¶çš„zåˆ†å±‚ï¼Œzå€¼å°çš„å›¾å½¢ä¼šè¢«zå€¼å¤§çš„å›¾å½¢è¦†ç›–</span><br><span class="line">    left:<span class="string">&quot;center&quot;</span>,                              //ç»„ä»¶ç¦»å®¹å™¨å·¦ä¾§çš„è·ç¦»,<span class="string">&#x27;left&#x27;</span>, <span class="string">&#x27;center&#x27;</span>, <span class="string">&#x27;right&#x27;</span>,<span class="string">&#x27;20%&#x27;</span></span><br><span class="line">    top:<span class="string">&quot;top&quot;</span>,                                  //ç»„ä»¶ç¦»å®¹å™¨ä¸Šä¾§çš„è·ç¦»,<span class="string">&#x27;top&#x27;</span>, <span class="string">&#x27;middle&#x27;</span>, <span class="string">&#x27;bottom&#x27;</span>,<span class="string">&#x27;20%&#x27;</span></span><br><span class="line">    right:<span class="string">&quot;auto&quot;</span>,                               //ç»„ä»¶ç¦»å®¹å™¨å³ä¾§çš„è·ç¦»,<span class="string">&#x27;20%&#x27;</span></span><br><span class="line">    bottom:<span class="string">&quot;auto&quot;</span>,                              //ç»„ä»¶ç¦»å®¹å™¨ä¸‹ä¾§çš„è·ç¦»,<span class="string">&#x27;20%&#x27;</span></span><br><span class="line">    width:<span class="string">&quot;auto&quot;</span>,                               //å›¾ä¾‹å®½åº¦</span><br><span class="line">    height:<span class="string">&quot;auto&quot;</span>,                              //å›¾ä¾‹é«˜åº¦</span><br><span class="line">    orient:<span class="string">&quot;horizontal&quot;</span>,                        //å›¾ä¾‹æ’åˆ—æ–¹å‘</span><br><span class="line">    align:<span class="string">&quot;auto&quot;</span>,                               //å›¾ä¾‹æ ‡è®°å’Œæ–‡æœ¬çš„å¯¹é½,left,right</span><br><span class="line">    padding:5,                                  //å›¾ä¾‹å†…è¾¹è·ï¼Œå•ä½px  5  [5, 10]  [5,10,5,10]</span><br><span class="line">    itemGap:10,                                 //å›¾ä¾‹æ¯é¡¹ä¹‹é—´çš„é—´éš”</span><br><span class="line">    itemWidth:25,                               //å›¾ä¾‹æ ‡è®°çš„å›¾å½¢å®½åº¦</span><br><span class="line">    itemHeight:14,                              //å›¾ä¾‹æ ‡è®°çš„å›¾å½¢é«˜åº¦</span><br><span class="line">    formatter:<span class="keyword">function</span> (name) &#123;                 //ç”¨æ¥æ ¼å¼åŒ–å›¾ä¾‹æ–‡æœ¬ï¼Œæ”¯æŒå­—ç¬¦ä¸²æ¨¡æ¿å’Œå›è°ƒå‡½æ•°ä¸¤ç§å½¢å¼ã€‚æ¨¡æ¿å˜é‡ä¸ºå›¾ä¾‹åç§° &#123;name&#125;</span><br><span class="line">        <span class="built_in">return</span> <span class="string">&#x27;Legend &#x27;</span> + name;</span><br><span class="line">    &#125;,</span><br><span class="line">    selectedMode:<span class="string">&quot;single&quot;</span>,                      //å›¾ä¾‹é€‰æ‹©çš„æ¨¡å¼,<span class="literal">true</span>å¼€å¯,<span class="literal">false</span>å…³é—­,singleå•é€‰,multipleå¤šé€‰</span><br><span class="line">    inactiveColor:<span class="string">&quot;#ccc&quot;</span>,                       //å›¾ä¾‹å…³é—­æ—¶çš„é¢œè‰²</span><br><span class="line">    textStyle:mytextStyle,                      //æ–‡æœ¬æ ·å¼</span><br><span class="line">    data:[<span class="string">&#x27;ç±»åˆ«1&#x27;</span>, <span class="string">&#x27;ç±»åˆ«2&#x27;</span>, <span class="string">&#x27;ç±»åˆ«3&#x27;</span>],            //seriesä¸­æ ¹æ®åç§°åŒºåˆ†</span><br><span class="line">    backgroundColor:<span class="string">&quot;transparent&quot;</span>,              //æ ‡é¢˜èƒŒæ™¯è‰²</span><br><span class="line">    borderColor:<span class="string">&quot;#ccc&quot;</span>,                         //è¾¹æ¡†é¢œè‰²</span><br><span class="line">    borderWidth:0,                              //è¾¹æ¡†çº¿å®½</span><br><span class="line">    shadowColor:<span class="string">&quot;red&quot;</span>,                          //é˜´å½±é¢œè‰²</span><br><span class="line">    shadowOffsetX:0,                            //é˜´å½±æ°´å¹³æ–¹å‘ä¸Šçš„åç§»è·ç¦»</span><br><span class="line">    shadowOffsetY:0,                            //é˜´å½±å‚ç›´æ–¹å‘ä¸Šçš„åç§»è·ç¦»</span><br><span class="line">    shadowBlur:10,                              //é˜´å½±çš„æ¨¡ç³Šå¤§å°</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>es6</title>
    <url>/2021/10/14/es6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ğŸ“Œ æœ€è¿‘å…¬å¸ä¸€ç›´åœ¨åšH5å°æ¸¸æˆï¼Œæˆ‘çš„åšå®¢æœ‰2ä¸ªæœˆæ²¡æ€ä¹ˆæ›´æ–°äº†</p>
<pre><code>é¡¹ç›®ä¸­ç”¨åˆ°äº†ES6çš„ä¸€äº›ç‰¹æ€§ ï¼Œå°±è®°å½•ä¸€äº›ï¼Œéšç¬”ã€‚ã€‚ã€‚

es6æ–°ç‰¹æ€§ï¼š1ã€å‘å¯¹è±¡æ·»åŠ å±æ€§ï¼›2ã€åˆå¹¶å¯¹è±¡ï¼›3ã€åˆ é™¤å¯¹è±¡çš„å±æ€§ï¼›4ã€åŠ¨æ€åˆ é™¤å±æ€§ï¼›5ã€è°ƒæ•´å¯¹è±¡å±æ€§çš„ä½ç½®ï¼›6ã€é»˜è®¤å±æ€§ï¼›7ã€é‡å‘½åå¯¹è±¡çš„å±æ€§ï¼›8ã€æ¡ä»¶å±æ€§ã€‚
</code></pre>
<h2 id="1ã€let-const"><a href="#1ã€let-const" class="headerlink" title="1ã€let const"></a>1ã€let const</h2><pre><code>let è¡¨ç¤ºç”³æ˜å˜é‡ã€‚const è¡¨ç¤ºç”³æ˜å¸¸é‡ã€‚

å¸¸é‡å®šä¹‰äº†å°±ä¸èƒ½æ”¹äº†ã€‚å¯¹è±¡é™¤å¤–ï¼Œå› ä¸ºå¯¹è±¡æŒ‡å‘çš„åœ°å€æ²¡å˜ã€‚
conståœ¨ç”³æ˜æ˜¯å¿…é¡»è¢«èµ‹å€¼ã€‚
ä¸¤è€…éƒ½ä¸ºå—çº§ä½œç”¨åŸŸã€‚
å—çº§ä½œç”¨åŸŸä¸å‡½æ•°ä½œç”¨åŸŸã€‚ä»»ä½•ä¸€å¯¹èŠ±æ‹¬å·ï¼ˆï½›å’Œï½ï¼‰ä¸­çš„è¯­å¥é›†éƒ½å±äºä¸€ä¸ªå—ï¼Œåœ¨è¿™ä¹‹ä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡åœ¨ä»£ç å—å¤–éƒ½æ˜¯ä¸å¯è§çš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå—çº§ä½œç”¨åŸŸã€‚å‡½æ•°ä½œç”¨åŸŸå°±å¥½ç†è§£äº†ï¼Œå®šä¹‰åœ¨å‡½æ•°ä¸­çš„å‚æ•°å’Œå˜é‡åœ¨å‡½æ•°å¤–éƒ¨æ˜¯ä¸å¯è§çš„ã€‚
</code></pre>
<h2 id="2ã€æ¨¡å—å­—ç¬¦ä¸²"><a href="#2ã€æ¨¡å—å­—ç¬¦ä¸²" class="headerlink" title="2ã€æ¨¡å—å­—ç¬¦ä¸²``"></a>2ã€æ¨¡å—å­—ç¬¦ä¸²``</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¯ä»¥ä½¿ç”¨åå¼•å·``æ¥è¿›è¡Œå­—ç¬¦æ‹¼æ¥ã€‚$&#123;&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="3ã€è§£æ„"><a href="#3ã€è§£æ„" class="headerlink" title="3ã€è§£æ„"></a>3ã€è§£æ„</h2><p>å¯ä»¥ä½¿ç”¨{}æ¥å¯¹æ•°ç»„å’Œå¯¹è±¡è¿›è¡Œè§£æ„ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰æ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> array = [<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;class&#x27;</span>]</span><br><span class="line"><span class="comment">// æ•°ç»„ç»“æ„</span></span><br><span class="line"><span class="keyword">const</span> [a,b,c] = array</span><br><span class="line"></span><br><span class="line">cosnt obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;xiaoming&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="string">&#x27;12&#x27;</span>,</span><br><span class="line">    <span class="attr">class</span>:<span class="string">&#x27;class2&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> &#123;name , age , <span class="class"><span class="keyword">class</span>&#125; </span>= obj</span><br></pre></td></tr></table></figure>

<h2 id="4ã€å‡½æ•°çš„å‚æ•°é»˜è®¤å€¼"><a href="#4ã€å‡½æ•°çš„å‚æ•°é»˜è®¤å€¼" class="headerlink" title="4ã€å‡½æ•°çš„å‚æ•°é»˜è®¤å€¼"></a>4ã€å‡½æ•°çš„å‚æ•°é»˜è®¤å€¼</h2><p>å‡½æ•°ä¼ å‚å¯ä»¥æœ‰é»˜è®¤å€¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//es6</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params">text = <span class="string">&#x27;default&#x27;</span></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(text);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5ã€Spread-Rest-æ“ä½œç¬¦-â€˜â€¦â€™"><a href="#5ã€Spread-Rest-æ“ä½œç¬¦-â€˜â€¦â€™" class="headerlink" title="5ã€Spread / Rest æ“ä½œç¬¦ â€˜â€¦â€™"></a>5ã€Spread / Rest æ“ä½œç¬¦ â€˜â€¦â€™</h2><p>Spread / Rest æ“ä½œç¬¦æŒ‡çš„æ˜¯ â€¦ï¼Œå…·ä½“æ˜¯ Spread è¿˜æ˜¯ Rest éœ€è¦çœ‹ä¸Šä¸‹æ–‡è¯­å¢ƒã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">x,y,z</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x,y,z);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">fun(...arr); <span class="comment">// 1 2 3</span></span><br></pre></td></tr></table></figure>
<p>å½“è¢«ç”¨äºå‡½æ•°ä¼ å‚æ—¶ï¼Œæ˜¯ä¸€ä¸ª Rest æ“ä½œç¬¦ï¼šå½“è¢«ç”¨äºå‡½æ•°ä¼ å‚æ—¶ï¼Œæ˜¯ä¸€ä¸ª Rest æ“ä½œç¬¦ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(args);</span><br><span class="line">&#125;</span><br><span class="line">fun( <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>); <span class="comment">// [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<h2 id="6ã€ç®­å¤´å‡½æ•°"><a href="#6ã€ç®­å¤´å‡½æ•°" class="headerlink" title="6ã€ç®­å¤´å‡½æ•°"></a>6ã€ç®­å¤´å‡½æ•°</h2><p>ä¸éœ€è¦ function å…³é”®å­—æ¥åˆ›å»ºå‡½æ•°<br>çœç•¥ return å…³é”®å­—<br>thiså§‹ç»ˆæŒ‡å‘å‡½æ•°ç”³æ˜æ—¶æ‰€åœ¨ä½œç”¨åŸŸä¸‹çš„thiså€¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//es5</span></span><br><span class="line"><span class="keyword">var</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//es6</span></span><br><span class="line"><span class="keyword">var</span> fn = <span class="function">()=&gt;</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7ã€for-of"><a href="#7ã€for-of" class="headerlink" title="7ã€for of"></a>7ã€for of</h2><p>for oféå†çš„æ˜¯é”®å€¼å¯¹ä¸­çš„å€¼<br>for inéå†çš„æ˜¯é”®å€¼å¯¹ä¸­çš„é”®</p>
<h2 id="8ã€promise"><a href="#8ã€promise" class="headerlink" title="8ã€promise"></a>8ã€promise</h2><p>Promise ç”¨äºæ›´ä¼˜é›…åœ°å¤„ç†å¼‚æ­¥è¯·æ±‚ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">   <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    resolve(<span class="string">&#x27;æˆåŠŸäº†ï¼&#x27;</span>)</span><br><span class="line">  &#125;,<span class="number">1000</span>)</span><br><span class="line">  <span class="comment">// reject(&quot;å¤±è´¥äº†ï¼Œwuwu&quot;)</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="9ã€async-await"><a href="#9ã€async-await" class="headerlink" title="9ã€async/await"></a>9ã€async/await</h2><p>æ¯”promiseæ›´å¥½çš„è§£å†³äº†å›è°ƒåœ°ç‹±ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    awiat fn()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="10ã€Seté›†åˆ"><a href="#10ã€Seté›†åˆ" class="headerlink" title="10ã€Seté›†åˆ"></a>10ã€Seté›†åˆ</h2><p>å­˜å‚¨ä»»ä½•ç±»å‹çš„å”¯ä¸€å€¼ï¼Œå³é›†åˆä¸­æ‰€ä¿å­˜çš„å…ƒç´ æ˜¯ä¸é‡å¤çš„ã€‚ç±»æ•°ç»„ç»“æ„ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> arrNew = <span class="keyword">new</span> <span class="built_in">Set</span>(arr)</span><br><span class="line">arrNew = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<p>ç±»æ•°ç»„ä¸æ˜¯æ•°ç»„ï¼Œè¦è½¬åŒ–ä¸ºæ•°ç»„Array.form(arrNew)è¿™æ ·arrNewæ‰æ˜¯æ•°ç»„äº†</p>
]]></content>
  </entry>
  <entry>
    <title>ES6ç²¾é€‰æ–¹æ³•</title>
    <url>/2022/04/07/es62/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ğŸ“Œ å·¥ä½œæ—¥å¸¸å¸¸ç”¨ï¼Œåˆ†äº«ä¸‹å“ˆï¼šç›¸äº’è¿›æ­¥</p>
<pre><code>ES5ï¼Œ6ï¼Œ7... æ®è¯´ç°åœ¨éƒ½åˆ°10äº†
</code></pre>
<h2 id="å…³äºå–å€¼-è§£æ„èµ‹å€¼"><a href="#å…³äºå–å€¼-è§£æ„èµ‹å€¼" class="headerlink" title="å…³äºå–å€¼/è§£æ„èµ‹å€¼"></a>å…³äºå–å€¼/è§£æ„èµ‹å€¼</h2><pre><code><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>:<span class="number">2</span>,</span><br><span class="line">    <span class="attr">c</span>:<span class="number">3</span>,</span><br><span class="line">    <span class="attr">d</span>:<span class="number">4</span>,</span><br><span class="line">    <span class="attr">e</span>:<span class="number">5</span>,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123;a,b,c,d,e&#125; = obj;</span><br><span class="line"><span class="keyword">const</span> f = a + d;</span><br><span class="line"><span class="keyword">const</span> g = c + e;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123;<span class="attr">a</span>:a1&#125; = obj;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a1);<span class="comment">// 1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

ES6çš„ç»“æ„èµ‹å€¼ä¹Ÿæœ‰æ˜“é”™çš„åœ°æ–¹ï¼Œç»“æ„çš„å¯¹è±¡ä¸èƒ½ä¸ºundefinedã€nullã€‚å¦åˆ™ä¼šæœ‰å“¦æŠ¥é”™æç¤ºï¼Œæ‰€ä»¥æœ€å¥½ç»™ä¸€ä¸ªé»˜è®¤å€¼ã€‚

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; a, b, c, d, e &#125; = obj || &#123;&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="åˆå¹¶æ•°æ®"><a href="#åˆå¹¶æ•°æ®" class="headerlink" title="åˆå¹¶æ•°æ®"></a>åˆå¹¶æ•°æ®</h2><pre><code>åˆå¹¶æ•°ç»„ï¼Œåˆå¹¶å¯¹è±¡

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">const</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> b = [<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">const</span> c = a.concat(b) <span class="comment">//[1,2,3,1,5,6]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;<span class="attr">b</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">const</span> obj = <span class="built_in">Object</span>.assign(&#123;&#125;,obj1,obj2) <span class="comment">// &#123;a:1,b:1&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// es6</span></span><br><span class="line"><span class="keyword">const</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> b = [<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">const</span> c = [...new <span class="built_in">Set</span>([...a,...b])] <span class="comment">// [1,2,3,5,6]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;<span class="attr">b</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">const</span> obj = &#123;...obj1,...obj2&#125; <span class="comment">//&#123;a:1,b:2&#125;</span></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><pre><code>Set æ˜¯ ES6 æä¾›çš„æ–°çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€æœ‰çš„ï¼Œæ²¡é‡å¤çš„å€¼ã€‚

Set æœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”ŸæˆSetæ•°æ®ç»“æ„
</code></pre>
<h3 id="1-ç”¨äºæ•°ç»„å»é‡"><a href="#1-ç”¨äºæ•°ç»„å»é‡" class="headerlink" title="1.ç”¨äºæ•°ç»„å»é‡"></a>1.ç”¨äºæ•°ç»„å»é‡</h3><pre><code><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> setarr = <span class="keyword">new</span> <span class="built_in">Set</span>(arr) <span class="comment">// Set(4)Â &#123;3, 5, 2, 1&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹æ³•1 es6çš„ ... è§£æ„</span></span><br><span class="line"><span class="keyword">let</span> esarr= [...setarr] <span class="comment">//Â [3, 5, 2, 1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹æ³•2 Array.from()è§£æç±»æ•°ç»„ä¸ºæ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> afarr = <span class="built_in">Array</span>.from(setarr) <span class="comment">//å»é‡å¹¶è½¬æ¢ä¸ºæ•°ç»„ // [3, 5, 2, 1]</span></span><br></pre></td></tr></table></figure>
</code></pre>
<h3 id="2-å­—ç¬¦ä¸²å»é‡"><a href="#2-å­—ç¬¦ä¸²å»é‡" class="headerlink" title="2.å­—ç¬¦ä¸²å»é‡"></a>2.å­—ç¬¦ä¸²å»é‡</h3><pre><code><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;352211&#x27;</span></span><br><span class="line"><span class="keyword">let</span> setstr = <span class="keyword">new</span> <span class="built_in">Set</span>(str) <span class="comment">// Set(4)Â &#123;&#x27;3&#x27;, &#x27;5&#x27;, &#x27;2&#x27;, &#x27;1&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// es6çš„ ... è§£æ„</span></span><br><span class="line"><span class="keyword">let</span> esstr= [...setstr] <span class="comment">//Â [&#x27;3&#x27;, &#x27;5&#x27;, &#x27;2&#x27;, &#x27;1&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> esstr= [...setstr].join(<span class="string">&#x27;&#x27;</span>) <span class="comment">//Â 3521</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
<h3 id="3-äº¤é›†ã€å¹¶é›†ã€å·®é›†"><a href="#3-äº¤é›†ã€å¹¶é›†ã€å·®é›†" class="headerlink" title="3.äº¤é›†ã€å¹¶é›†ã€å·®é›†"></a>3.äº¤é›†ã€å¹¶é›†ã€å·®é›†</h3><pre><code><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="comment">// åˆå¹¶</span></span><br><span class="line"><span class="keyword">let</span> ab = <span class="keyword">new</span> <span class="built_in">Set</span>([...a,...b])  <span class="comment">//set &#123;1,2,3,4&#125;</span></span><br><span class="line"><span class="comment">//ç›¸åŒé¡¹</span></span><br><span class="line"><span class="keyword">let</span> absome = <span class="keyword">new</span> <span class="built_in">Set</span>([...a].filter(<span class="function"><span class="params">x</span> =&gt;</span> b.has(x)))   <span class="comment">//set&#123;2,3&#125;</span></span><br><span class="line"><span class="comment">// ä¸åŒé¡¹</span></span><br><span class="line"><span class="keyword">let</span> nosome = <span class="keyword">new</span> <span class="built_in">Set</span>([...a].filter(<span class="function"><span class="params">x</span> =&gt;</span> !b.has(x)))  <span class="comment">//set&#123;1&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Setçš„å®ä¾‹å…³äºå¢åˆ æ”¹æŸ¥çš„æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment">// add()     æ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› Set ç»“æ„æœ¬èº«ã€‚</span></span><br><span class="line"><span class="comment">// delete()  åˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚</span></span><br><span class="line"><span class="comment">// has()     è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚</span></span><br><span class="line"><span class="comment">// clear()   æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="æ‹¼æ¥å­—ç¬¦ä¸²"><a href="#æ‹¼æ¥å­—ç¬¦ä¸²" class="headerlink" title="æ‹¼æ¥å­—ç¬¦ä¸²"></a>æ‹¼æ¥å­—ç¬¦ä¸²</h2><pre><code><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;xiaomign&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">if</span>(age &gt; <span class="number">10</span>)&#123;</span><br><span class="line">result = <span class="string">`<span class="subst">$&#123;name&#125;</span>çš„å¹´é¾„å¤§äº10å²`</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">result = <span class="string">`<span class="subst">$&#123;name&#125;</span>çš„å¹´é¾„å°äº10å²`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼˜åŒ–</span></span><br><span class="line"><span class="keyword">const</span> result = <span class="string">`<span class="subst">$&#123;name&#125;</span><span class="subst">$&#123;age &gt; <span class="number">10</span>?<span class="string">&#x27;çš„å¹´é¾„å¤§äº10å²&#x27;</span>:<span class="string">&#x27;çš„å¹´é¾„å°äº10å²&#x27;</span>&#125;</span>`</span>;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="if-ä¸­åˆ¤æ–­æ¡ä»¶"><a href="#if-ä¸­åˆ¤æ–­æ¡ä»¶" class="headerlink" title="if ä¸­åˆ¤æ–­æ¡ä»¶"></a>if ä¸­åˆ¤æ–­æ¡ä»¶</h2><pre><code><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">    <span class="keyword">if</span>(</span><br><span class="line">        type == <span class="number">1</span> ||</span><br><span class="line">        type == <span class="number">2</span> ||</span><br><span class="line">        type == <span class="number">3</span> ||</span><br><span class="line">        type == <span class="number">4</span> ||</span><br><span class="line">    )&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼˜åŒ–</span></span><br><span class="line">    <span class="keyword">const</span> ishas = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">if</span>( ishas.includes(type) )&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="åˆ—è¡¨æœç´¢ï¼Œè¿‡æ»¤"><a href="#åˆ—è¡¨æœç´¢ï¼Œè¿‡æ»¤" class="headerlink" title="åˆ—è¡¨æœç´¢ï¼Œè¿‡æ»¤"></a>åˆ—è¡¨æœç´¢ï¼Œè¿‡æ»¤</h2><pre><code>æœç´¢ä¸€èˆ¬åˆ†ä¸ºç²¾ç¡®æœç´¢å’Œæ¨¡ç³Šæœç´¢ã€‚æœç´¢ä¹Ÿè¦å«è¿‡æ»¤ï¼Œä¸€èˆ¬ç”¨filteræ¥å®ç°ã€‚

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> result = a.filter(</span><br><span class="line"><span class="function"><span class="params">item</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item === <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

å¦‚æœæ˜¯ç²¾ç¡®æœç´¢ä¸ä¼šç”¨ES6ä¸­çš„findå—ï¼Ÿæ€§èƒ½ä¼˜åŒ–æ‡‚ä¹ˆï¼Œfindæ–¹æ³•ä¸­æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„é¡¹ï¼Œå°±ä¸ä¼šç»§ç»­éå†æ•°ç»„ã€‚

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> result = a.find(</span><br><span class="line"><span class="function"><span class="params">item</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item === <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="æ‰å¹³åŒ–æ•°ç»„"><a href="#æ‰å¹³åŒ–æ•°ç»„" class="headerlink" title="æ‰å¹³åŒ–æ•°ç»„"></a>æ‰å¹³åŒ–æ•°ç»„</h2><p>ä¸€ä¸ªéƒ¨é—¨ JSON æ•°æ®ä¸­ï¼Œå±æ€§åæ˜¯éƒ¨é—¨ idï¼Œå±æ€§å€¼æ˜¯ä¸ªéƒ¨é—¨æˆå‘˜ id æ•°ç»„é›†åˆï¼Œç°åœ¨è¦æŠŠæœ‰éƒ¨é—¨çš„æˆå‘˜ id éƒ½æå–åˆ°ä¸€ä¸ªæ•°ç»„é›†åˆä¸­ã€‚</p>
<pre><code><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> deps = &#123;</span><br><span class="line"><span class="string">&#x27;é‡‡è´­éƒ¨&#x27;</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line"><span class="string">&#x27;äººäº‹éƒ¨&#x27;</span>:[<span class="number">5</span>,<span class="number">8</span>,<span class="number">12</span>],</span><br><span class="line"><span class="string">&#x27;è¡Œæ”¿éƒ¨&#x27;</span>:[<span class="number">5</span>,<span class="number">14</span>,<span class="number">79</span>],</span><br><span class="line"><span class="string">&#x27;è¿è¾“éƒ¨&#x27;</span>:[<span class="number">3</span>,<span class="number">64</span>,<span class="number">105</span>],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> member = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">in</span> deps)&#123;</span><br><span class="line"><span class="keyword">const</span> value = deps[item];</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">Array</span>.isArray(value))&#123;</span><br><span class="line">member = [...member,...value]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">member = [...new <span class="built_in">Set</span>(member)]</span><br></pre></td></tr></table></figure>

è·å–å¯¹è±¡çš„å…¨éƒ¨å±æ€§å€¼è¿˜è¦éå†å—ï¼ŸObject.valueså¿˜è®°äº†å—ï¼Ÿè¿˜æœ‰æ¶‰åŠåˆ°æ•°ç»„çš„æ‰å¹³åŒ–å¤„ç†ï¼Œä¸ºå•¥ä¸ç”¨ES6æä¾›çš„flatæ–¹æ³•å‘¢ï¼Œè¿˜å¥½è¿™æ¬¡çš„æ•°ç»„çš„æ·±åº¦æœ€å¤šåªåˆ°2ç»´ï¼Œè¿˜è¦æ˜¯é‡åˆ°4ç»´ã€5ç»´æ·±åº¦çš„æ•°ç»„ï¼Œæ˜¯ä¸æ˜¯å¾—å¾ªç¯åµŒå¥—å¾ªç¯æ¥æ‰å¹³åŒ–ï¼Ÿ

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> deps = &#123;</span><br><span class="line">    <span class="string">&#x27;é‡‡è´­éƒ¨&#x27;</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">    <span class="string">&#x27;äººäº‹éƒ¨&#x27;</span>:[<span class="number">5</span>,<span class="number">8</span>,<span class="number">12</span>],</span><br><span class="line">    <span class="string">&#x27;è¡Œæ”¿éƒ¨&#x27;</span>:[<span class="number">5</span>,<span class="number">14</span>,<span class="number">79</span>],</span><br><span class="line">    <span class="string">&#x27;è¿è¾“éƒ¨&#x27;</span>:[<span class="number">3</span>,<span class="number">64</span>,<span class="number">105</span>],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> member = <span class="built_in">Object</span>.values(deps).flat(<span class="literal">Infinity</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¶ä¸­ä½¿ç”¨Infinityä½œä¸ºflatçš„å‚æ•°ï¼Œä½¿å¾—æ— éœ€çŸ¥é“è¢«æ‰å¹³åŒ–çš„æ•°ç»„çš„ç»´åº¦ã€‚</span></span><br><span class="line"><span class="comment">// flatæ–¹æ³•ä¸æ”¯æŒIEæµè§ˆå™¨ã€‚</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="è·å–å¯¹è±¡å±æ€§å€¼"><a href="#è·å–å¯¹è±¡å±æ€§å€¼" class="headerlink" title="è·å–å¯¹è±¡å±æ€§å€¼"></a>è·å–å¯¹è±¡å±æ€§å€¼</h2><pre><code><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> name = obj &amp;&amp; obj.name;</span><br><span class="line"><span class="comment">//ES6ä¸­çš„å¯é€‰é“¾æ“ä½œç¬¦</span></span><br><span class="line"><span class="keyword">const</span> name = obj?.name;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="æ·»åŠ å¯¹è±¡å±æ€§"><a href="#æ·»åŠ å¯¹è±¡å±æ€§" class="headerlink" title="æ·»åŠ å¯¹è±¡å±æ€§"></a>æ·»åŠ å¯¹è±¡å±æ€§</h2><pre><code>å½“ç»™å¯¹è±¡æ·»åŠ å±æ€§æ—¶ï¼Œå¦‚æœå±æ€§åæ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œè¯¥æ€ä¹ˆå¤„ç†ã€‚

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> index = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> key = <span class="string">`topic<span class="subst">$&#123;index&#125;</span>`</span>;</span><br><span class="line">obj[key] = <span class="string">&#x27;è¯é¢˜å†…å®¹&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ”¹è¿›</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> index = <span class="number">1</span>;</span><br><span class="line">obj[<span class="string">`topic<span class="subst">$&#123;index&#125;</span>`</span>] = <span class="string">&#x27;è¯é¢˜å†…å®¹&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="è¾“å…¥æ¡†éç©ºçš„åˆ¤æ–­"><a href="#è¾“å…¥æ¡†éç©ºçš„åˆ¤æ–­" class="headerlink" title="è¾“å…¥æ¡†éç©ºçš„åˆ¤æ–­"></a>è¾“å…¥æ¡†éç©ºçš„åˆ¤æ–­</h2><pre><code>åœ¨å¤„ç†è¾“å…¥æ¡†ç›¸å…³ä¸šåŠ¡æ—¶ï¼Œå¾€å¾€ä¼šåˆ¤æ–­è¾“å…¥æ¡†æœªè¾“å…¥å€¼çš„åœºæ™¯ã€‚

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(value !== <span class="literal">null</span> &amp;&amp; value !== <span class="literal">undefined</span> &amp;&amp; value !== <span class="string">&#x27;&#x27;</span>)&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6ä¸­æ–°å‡ºçš„ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦</span></span><br><span class="line"><span class="keyword">if</span>((value??<span class="string">&#x27;&#x27;</span>) !== <span class="string">&#x27;&#x27;</span>)&#123;</span><br><span class="line">    <span class="comment">// do something...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="å¼‚æ­¥å‡½æ•°çš„åæ§½"><a href="#å¼‚æ­¥å‡½æ•°çš„åæ§½" class="headerlink" title="å¼‚æ­¥å‡½æ•°çš„åæ§½"></a>å¼‚æ­¥å‡½æ•°çš„åæ§½</h2><pre><code>å¼‚æ­¥å‡½æ•°å¾ˆå¸¸è§ï¼Œç»å¸¸æ˜¯ç”¨ Promise æ¥å®ç°ã€‚

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">   <span class="keyword">const</span> fn1 = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span> (<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">           <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">               resolve(<span class="number">1</span>)</span><br><span class="line">           &#125;,<span class="number">300</span>)</span><br><span class="line">       &#125;)</span><br><span class="line">   &#125;</span><br><span class="line"><span class="keyword">const</span> fn2 = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span> (<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">           <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">               resolve(<span class="number">2</span>)</span><br><span class="line">           &#125;,<span class="number">600</span>)</span><br><span class="line">       &#125;)</span><br><span class="line">   &#125;</span><br><span class="line">   cosnt fn = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">       fn1().then(<span class="function"><span class="params">res1</span>=&gt;</span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(res1) <span class="comment">// 1</span></span><br><span class="line">           fn2.then(<span class="function"><span class="params">res2</span>=&gt;</span>&#123;</span><br><span class="line">               <span class="built_in">console</span>.log(res2)</span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;)</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
å¦‚æœè¿™æ ·è°ƒç”¨å¼‚æ­¥å‡½æ•°ï¼Œä¸æ€•å½¢æˆåœ°ç‹±å›è°ƒå•Šï¼

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ”¹è¿›</span></span><br><span class="line"><span class="keyword">const</span> fn = <span class="keyword">async</span> ()=&gt;&#123;</span><br><span class="line">    <span class="keyword">const</span> res1 = <span class="keyword">await</span> fn1()</span><br><span class="line">    <span class="keyword">const</span> res2 = <span class="keyword">await</span> fn2()</span><br><span class="line">    <span class="built_in">console</span>.log(res1)   <span class="comment">// 1</span></span><br><span class="line">    <span class="built_in">console</span>.log(res2)   <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

ä½†æ˜¯è¦åšå¹¶å‘è¯·æ±‚æ—¶ï¼Œè¿˜æ˜¯è¦ç”¨åˆ°Promise.all()ã€‚

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">    <span class="comment">// æ”¹è¿›</span></span><br><span class="line">    <span class="keyword">const</span> fn = <span class="keyword">async</span> ()=&gt;&#123;</span><br><span class="line">        <span class="keyword">const</span> res1 = <span class="keyword">await</span> fn1()</span><br><span class="line">        <span class="keyword">const</span> res2 = <span class="keyword">await</span> fn2()</span><br><span class="line">        <span class="built_in">console</span>.log(res1)   <span class="comment">// 1</span></span><br><span class="line">        <span class="built_in">console</span>.log(res2)   <span class="comment">// 2</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fn = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">Promise</span>.all([fn1(),fn2()]).then(<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res) <span class="comment">// [1,2]</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¦‚æœå¹¶å‘è¯·æ±‚æ—¶ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªå¼‚æ­¥å‡½æ•°å¤„ç†å®Œæˆï¼Œå°±è¿”å›ç»“æœï¼Œè¦ç”¨åˆ°Promise.race()ã€‚</span></span><br></pre></td></tr></table></figure>
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>Hello Hexo</title>
    <url>/2021/07/28/hello-world/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>gulp4.0</title>
    <url>/2021/08/24/gulp/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ğŸ“Œ éšç€å·¥ä½œå†…å®¹çš„å¢å¤šï¼Œå‘ç°gitä¸Šçš„æ–‡ä»¶å¤¹ä¹Ÿè¶Šæ¥è¶Šå¤§</p>
<pre><code>æƒ³ç€ç”¨æ‰“åŒ…å·¥å…·ï¼Œå‡å°ä¸‹å†…å­˜å¤§å°ï¼Œæƒ³åˆ°äº† gulpï¼Œä¸çŸ¥ä¸è§‰ä¸­å·²ç»åˆ°4.0äº†  ç›˜å®ƒï¼
</code></pre>
<h1 id="ä¸€ã€npm-å®‰è£…-gulp"><a href="#ä¸€ã€npm-å®‰è£…-gulp" class="headerlink" title="ä¸€ã€npm å®‰è£… gulp"></a>ä¸€ã€npm å®‰è£… gulp</h1><pre><code>å¦‚æœä½ å…ˆå‰å°† gulp å®‰è£…åˆ°å…¨å±€ç¯å¢ƒä¸­äº†ï¼Œè¯·æ‰§è¡Œ npm rm --global gulp å°† gulp åˆ é™¤å†ç»§ç»­ä»¥ä¸‹æ“ä½œ
</code></pre>
<h2 id="æ£€æŸ¥-nodeã€npm-å’Œ-npx-æ˜¯å¦æ­£ç¡®å®‰è£…"><a href="#æ£€æŸ¥-nodeã€npm-å’Œ-npx-æ˜¯å¦æ­£ç¡®å®‰è£…" class="headerlink" title="æ£€æŸ¥ nodeã€npm å’Œ npx æ˜¯å¦æ­£ç¡®å®‰è£…"></a>æ£€æŸ¥ nodeã€npm å’Œ npx æ˜¯å¦æ­£ç¡®å®‰è£…</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">node --version or node -v   <span class="comment">//æ£€æŸ¥ node å®‰è£…</span></span><br><span class="line">npm --version or npm -v     <span class="comment">//æ£€æŸ¥ npm å®‰è£…</span></span><br><span class="line">npx --version or npx -v     <span class="comment">//æ£€æŸ¥ npx å®‰è£…</span></span><br></pre></td></tr></table></figure>

<h2 id="å®‰è£…-gulp-å‘½ä»¤è¡Œå·¥å…·"><a href="#å®‰è£…-gulp-å‘½ä»¤è¡Œå·¥å…·" class="headerlink" title="å®‰è£… gulp å‘½ä»¤è¡Œå·¥å…·"></a>å®‰è£… gulp å‘½ä»¤è¡Œå·¥å…·</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">npm install --<span class="built_in">global</span> gulp-cli</span><br></pre></td></tr></table></figure>

<h3 id="1ã€æ–°å»ºæ–‡ä»¶å¤¹-åˆ›å»º-package-json-æ–‡ä»¶"><a href="#1ã€æ–°å»ºæ–‡ä»¶å¤¹-åˆ›å»º-package-json-æ–‡ä»¶" class="headerlink" title="1ã€æ–°å»ºæ–‡ä»¶å¤¹ åˆ›å»º package.json æ–‡ä»¶"></a>1ã€æ–°å»ºæ–‡ä»¶å¤¹ åˆ›å»º package.json æ–‡ä»¶</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">npm init  <span class="comment">//ä½ å¯ä»¥é€‰æ‹©å¡«å†™ä¸œè¥¿ï¼Œä¸€èˆ¬æˆ‘æ˜¯Enteråˆ°åº•~</span></span><br></pre></td></tr></table></figure>

<h3 id="2ã€æœ¬åœ°å®‰è£…-gulpï¼Œä½œä¸ºå¼€å‘æ—¶ä¾èµ–é¡¹"><a href="#2ã€æœ¬åœ°å®‰è£…-gulpï¼Œä½œä¸ºå¼€å‘æ—¶ä¾èµ–é¡¹" class="headerlink" title="2ã€æœ¬åœ°å®‰è£… gulpï¼Œä½œä¸ºå¼€å‘æ—¶ä¾èµ–é¡¹"></a>2ã€æœ¬åœ°å®‰è£… gulpï¼Œä½œä¸ºå¼€å‘æ—¶ä¾èµ–é¡¹</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">npm install --save-dev gulp  <span class="comment">//éœ€è¦é¡¹ç›®ç›®å½•çš„å®‰è£…å“¦~</span></span><br></pre></td></tr></table></figure>

<h3 id="3ã€æ£€æŸ¥-gulp-ç‰ˆæœ¬"><a href="#3ã€æ£€æŸ¥-gulp-ç‰ˆæœ¬" class="headerlink" title="3ã€æ£€æŸ¥ gulp ç‰ˆæœ¬"></a>3ã€æ£€æŸ¥ gulp ç‰ˆæœ¬</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">gulp --version or gulp -v</span><br></pre></td></tr></table></figure>
<h3 id="4ã€åˆ›å»º-gulpfile-æ–‡ä»¶-å¹¶-æ£€æŸ¥-gulp-ç‰ˆæœ¬"><a href="#4ã€åˆ›å»º-gulpfile-æ–‡ä»¶-å¹¶-æ£€æŸ¥-gulp-ç‰ˆæœ¬" class="headerlink" title="4ã€åˆ›å»º gulpfile æ–‡ä»¶  å¹¶  æ£€æŸ¥ gulp ç‰ˆæœ¬"></a>4ã€åˆ›å»º gulpfile æ–‡ä»¶  å¹¶  æ£€æŸ¥ gulp ç‰ˆæœ¬</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">gulp  <span class="comment">//åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ gulp å‘½ä»¤ï¼šè¿è¡Œå¤šä¸ªä»»åŠ¡ï¼ˆtaskï¼‰ï¼Œå¯ä»¥æ‰§è¡Œ gulp &lt;task&gt; &lt;othertask&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="äºŒã€ä¸ªäººä½¿ç”¨çš„gulp"><a href="#äºŒã€ä¸ªäººä½¿ç”¨çš„gulp" class="headerlink" title="äºŒã€ä¸ªäººä½¿ç”¨çš„gulp"></a>äºŒã€ä¸ªäººä½¿ç”¨çš„gulp</h1><pre><code>æˆ‘ä½¿ç”¨çš„æ˜¯ gulp 4.0 äº²æµ‹æœ‰æ•ˆ   å®‰è£…çš„æ—¶å€™ï¼Œç›´æ¥åŠ ç‰ˆæœ¬å· 
</code></pre>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">npm install --<span class="built_in">global</span> gulp@<span class="number">4.0</span></span><br><span class="line">npm install --save-dev gulp@<span class="number">4.0</span>  </span><br></pre></td></tr></table></figure>
<h2 id="1ã€ä¸å–œæ¬¢å¢¨è¿¹ç›´æ¥ä¸Šä»£ç äº†"><a href="#1ã€ä¸å–œæ¬¢å¢¨è¿¹ç›´æ¥ä¸Šä»£ç äº†" class="headerlink" title="1ã€ä¸å–œæ¬¢å¢¨è¿¹ç›´æ¥ä¸Šä»£ç äº†"></a>1ã€ä¸å–œæ¬¢å¢¨è¿¹ç›´æ¥ä¸Šä»£ç äº†</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">&#x27;gulp&#x27;</span>) </span><br><span class="line"><span class="keyword">const</span> htmlmin = <span class="built_in">require</span>(<span class="string">&#x27;gulp-htmlmin&#x27;</span>) </span><br><span class="line"><span class="keyword">const</span> cleanCss = <span class="built_in">require</span>(<span class="string">&#x27;gulp-clean-css&#x27;</span>)  </span><br><span class="line"><span class="keyword">const</span> autoprefixer = <span class="built_in">require</span>(<span class="string">&#x27;gulp-autoprefixer&#x27;</span>) <span class="comment">//å¼•å…¥åŠ å‰ç¼€æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> connect = <span class="built_in">require</span>(<span class="string">&#x27;gulp-connect&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="built_in">require</span>(<span class="string">&#x27;http-proxy-middleware&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> imagemin = <span class="built_in">require</span>(<span class="string">&#x27;gulp-imagemin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> pngquant = <span class="built_in">require</span>(<span class="string">&#x27;imagemin-pngquant&#x27;</span>) <span class="comment">// æ·±åº¦å‹ç¼©</span></span><br><span class="line"><span class="keyword">const</span> babel = <span class="built_in">require</span>(<span class="string">&#x27;gulp-babel&#x27;</span>) <span class="comment">//å¼•å…¥es6è½¬es5æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> uglify = <span class="built_in">require</span>(<span class="string">&#x27;gulp-uglify&#x27;</span>) <span class="comment">//å¼•å…¥jså‹ç¼©æ¨¡å—</span></span><br><span class="line"><span class="comment">// ç¡®ä¿æœ¬åœ°å·²å®‰è£…gulp-cache [cnpm install gulp-cache --save-dev]</span></span><br><span class="line"><span class="keyword">const</span> cache = <span class="built_in">require</span>(<span class="string">&#x27;gulp-cache&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = &#123; <span class="comment">//æ–¹ä¾¿ç®¡ç†è·¯å¾„</span></span><br><span class="line">    <span class="attr">html</span>: &#123;</span><br><span class="line">        <span class="attr">src</span>: <span class="string">&#x27;src/**/*.html&#x27;</span>,</span><br><span class="line">        <span class="attr">dest</span>: <span class="string">&#x27;dist&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">css</span>: &#123;</span><br><span class="line">        <span class="attr">src</span>: <span class="string">&#x27;src/**/*.css&#x27;</span>,</span><br><span class="line">        <span class="attr">dest</span>: <span class="string">&#x27;dist&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">js</span>: &#123;</span><br><span class="line">        <span class="attr">src</span>: <span class="string">&#x27;src/**/*.js&#x27;</span>,</span><br><span class="line">        <span class="attr">dest</span>: <span class="string">&#x27;dist&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">img</span>: &#123;</span><br><span class="line">        <span class="attr">src</span>: <span class="string">&#x27;src/img/*.&#123;png,jpg,gif,svg&#125;&#x27;</span>,</span><br><span class="line">        <span class="attr">dest</span>: <span class="string">&#x27;dist/img&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> html = <span class="function">() =&gt;</span> &#123; <span class="comment">//åˆ›å»ºä»»åŠ¡ï¼Œå¹¶å‘½åä»»åŠ¡å</span></span><br><span class="line">    <span class="comment">/*ä¸€ä¸ª*è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼Œä¸¤ä¸ª*è¡¨ç¤ºæ‰€æœ‰ç›®å½•*/</span></span><br><span class="line">    <span class="keyword">return</span> gulp.src(path.html.src) <span class="comment">//æ‰“å¼€è¯»å–æ–‡ä»¶</span></span><br><span class="line">        .pipe(htmlmin(&#123;</span><br><span class="line">            <span class="attr">removeComments</span>: <span class="literal">true</span>, <span class="comment">//æ¸…é™¤HTMLæ³¨é‡Š</span></span><br><span class="line">            <span class="attr">collapseWhitespace</span>: <span class="literal">true</span>, <span class="comment">//å‹ç¼©HTML</span></span><br><span class="line">            <span class="attr">collapseBooleanAttributes</span>: <span class="literal">true</span>, <span class="comment">//çœç•¥å¸ƒå°”å±æ€§çš„å€¼ &lt;input checked=&quot;true&quot;/&gt; ==&gt; &lt;input checked /&gt;</span></span><br><span class="line">            <span class="attr">removeEmptyAttributes</span>: <span class="literal">true</span>, <span class="comment">//åˆ é™¤æ‰€æœ‰ç©ºæ ¼ä½œå±æ€§å€¼ &lt;input id=&quot;&quot; /&gt; ==&gt; &lt;input /&gt;</span></span><br><span class="line">            <span class="attr">removeScriptTypeAttributes</span>: <span class="literal">false</span>, <span class="comment">//åˆ é™¤&lt;script&gt;çš„type=&quot;text/javascript&quot;</span></span><br><span class="line">            <span class="attr">removeStyleLinkTypeAttributes</span>: <span class="literal">true</span>, <span class="comment">//åˆ é™¤&lt;style&gt;å’Œ&lt;link&gt;çš„type=&quot;text/css&quot;</span></span><br><span class="line">            <span class="attr">minifyJS</span>: <span class="literal">true</span>, <span class="comment">//å‹ç¼©é¡µé¢JS</span></span><br><span class="line">            <span class="attr">minifyCSS</span>: <span class="literal">true</span> <span class="comment">//å‹ç¼©é¡µé¢CSS</span></span><br><span class="line">        &#125;)) <span class="comment">//ç®¡é“æµæ“ä½œï¼Œå‹ç¼©æ–‡ä»¶</span></span><br><span class="line">        .pipe(gulp.dest(path.html.dest)) <span class="comment">//æŒ‡å®šå‹ç¼©æ–‡ä»¶æ”¾ç½®çš„ç›®å½•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> js = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(path.js.src)</span><br><span class="line">        .pipe(babel(&#123;</span><br><span class="line">            <span class="attr">presets</span>: [<span class="string">&#x27;@babel/env&#x27;</span>] <span class="comment">//es6è½¬es5</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(uglify()) <span class="comment">//æ‰§è¡Œå‹ç¼©</span></span><br><span class="line">        .pipe(gulp.dest(path.js.dest))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> css = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(path.css.src)</span><br><span class="line">        .pipe(cleanCss())</span><br><span class="line">        .pipe(gulp.dest(path.css.dest))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> img = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(path.img.src)   <span class="comment">// æŒ‡æ˜æºæ–‡ä»¶è·¯å¾„ã€å¹¶è¿›è¡Œæ–‡ä»¶åŒ¹é…</span></span><br><span class="line">        .pipe(cache(imagemin(&#123;</span><br><span class="line">            <span class="attr">progressive</span>: <span class="literal">true</span>,      <span class="comment">// æ— æŸå‹ç¼©jpgå›¾ç‰‡ï¼Œé»˜è®¤ï¼šfalse</span></span><br><span class="line">            <span class="attr">svgoPlugins</span>: [&#123; <span class="attr">removeViewBox</span>: <span class="literal">false</span> &#125;],</span><br><span class="line">            <span class="attr">use</span>: [pngquant()],</span><br><span class="line">            <span class="attr">optimizationLevel</span>: <span class="number">5</span>,   <span class="comment">// å–å€¼èŒƒå›´ï¼š0-7ï¼ˆä¼˜åŒ–ç­‰çº§ï¼‰ï¼Œé»˜è®¤ï¼š3</span></span><br><span class="line">            <span class="attr">interlaced</span>: <span class="literal">true</span>,       <span class="comment">// éš”è¡Œæ‰«ægifè¿›è¡Œæ¸²æŸ“ï¼Œé»˜è®¤ï¼šfalse</span></span><br><span class="line">            <span class="attr">multipass</span>: <span class="literal">true</span>,        <span class="comment">// å¤šæ¬¡ä¼˜åŒ–svgç›´åˆ°å®Œå…¨ä¼˜åŒ–ï¼Œé»˜è®¤ï¼šfalse</span></span><br><span class="line">        &#125;)))</span><br><span class="line">        .pipe(gulp.dest(path.img.dest)) <span class="comment">// è¾“å‡ºè·¯å¾„</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> watch = <span class="function">() =&gt;</span> &#123; <span class="comment">//ç›‘å¬æ–‡ä»¶ï¼Œæ–‡ä»¶æ”¹å˜æ‰§è¡Œå¯¹åº”çš„ä»»åŠ¡</span></span><br><span class="line">    gulp.watch(path.html.src, html)</span><br><span class="line">    gulp.watch(path.css.src, css)</span><br><span class="line">    gulp.watch(path.js.src, js)</span><br><span class="line">    gulp.watch(path.img.src, img)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    connect.server(&#123; <span class="comment">//åˆ›å»ºæœåŠ¡å™¨</span></span><br><span class="line">        <span class="attr">root</span>: <span class="string">&#x27;dist&#x27;</span>,<span class="comment">//æ ¹ç›®å½•</span></span><br><span class="line">        <span class="attr">port</span>: <span class="string">&#x27;2000&#x27;</span>,<span class="comment">//ç«¯å£å·</span></span><br><span class="line">        <span class="attr">livereload</span>: <span class="literal">true</span>,<span class="comment">//æœåŠ¡å™¨çƒ­æ›´æ–°</span></span><br><span class="line">        <span class="attr">middleware</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> [</span><br><span class="line">                proxy.createProxyMiddleware(<span class="string">&#x27;/api&#x27;</span>, &#123; <span class="comment">//åˆ›å»ºåå‘ä»£ç†ï¼Œè¯·æ±‚å·² /api å¼€å¤´å°±ä½¿ç”¨targetçš„æœåŠ¡å™¨</span></span><br><span class="line">                    <span class="attr">target</span>: <span class="string">&#x27;http://localhost&#x27;</span>,<span class="comment">//éœ€è¦ä»£ç†çš„æœåŠ¡å™¨</span></span><br><span class="line">                    <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">                &#125;)</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = &#123; <span class="comment">//ä¸€å®šè¦ä»¥å¯¹è±¡å½¢å¼å¯¼å‡º</span></span><br><span class="line">    html,</span><br><span class="line">    css,</span><br><span class="line">    js,</span><br><span class="line">    watch,</span><br><span class="line">    server,</span><br><span class="line">    img</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2ã€å¸¸è§ä¼šå‡ºç°å‡ ä¸ªé—®é¢˜"><a href="#2ã€å¸¸è§ä¼šå‡ºç°å‡ ä¸ªé—®é¢˜" class="headerlink" title="2ã€å¸¸è§ä¼šå‡ºç°å‡ ä¸ªé—®é¢˜"></a>2ã€å¸¸è§ä¼šå‡ºç°å‡ ä¸ªé—®é¢˜</h2><h3 id="1ã€æœ‰å…³-imagemin-pngquant"><a href="#1ã€æœ‰å…³-imagemin-pngquant" class="headerlink" title="1ã€æœ‰å…³ imagemin-pngquant"></a>1ã€æœ‰å…³ imagemin-pngquant</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åœ¨cmd çš„ç®¡ç†å‘˜æ¨¡å¼ï¼Œå¯¹åº”ä½ çš„é¡¹ç›®ç›®å½• æ‰§è¡Œä¸‹é¢å‘½ä»¤</span></span><br><span class="line">npm install imagemin-pngquant <span class="comment">// è¿™ä¸ªä¸€èˆ¬æ˜¯æƒé™é—®é¢˜ï¼Œä¼šå®‰è£…å¤±è´¥</span></span><br></pre></td></tr></table></figure>
<h3 id="2ã€æœ‰å…³-gulp-imagemin"><a href="#2ã€æœ‰å…³-gulp-imagemin" class="headerlink" title="2ã€æœ‰å…³ gulp-imagemin"></a>2ã€æœ‰å…³ gulp-imagemin</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åœ¨gulp 4.0 ä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼Œä¼šè‡ªåŠ¨å®‰è£…8.0 çš„ç‰ˆæœ¬</span></span><br><span class="line"><span class="comment">//8.0ç‰ˆæœ¬ä¼šå‡ºç° module çš„æ ¼å¼é”™è¯¯é—®é¢˜</span></span><br><span class="line">npm install gulp-imagemin@<span class="number">7.1</span><span class="number">.0</span> <span class="comment">//  æˆ‘è¿™é‡Œé€‰æ‹©äº† é™çº§å®‰è£… è¿˜æ˜¯å¯ä»¥çš„</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3ã€package-json"><a href="#3ã€package-json" class="headerlink" title="3ã€package.json"></a>3ã€package.json</h3><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;gulp-imagemin&quot;</span>: <span class="string">&quot;^7.1.0&quot;</span>,</span><br></pre></td></tr></table></figure>
<h3 id="4ã€é‡ç‚¹è¯´ä¸€ä¸ªä¸œè¥¿å§ï¼ŒæŒºæœ‰æ„æ€"><a href="#4ã€é‡ç‚¹è¯´ä¸€ä¸ªä¸œè¥¿å§ï¼ŒæŒºæœ‰æ„æ€" class="headerlink" title="4ã€é‡ç‚¹è¯´ä¸€ä¸ªä¸œè¥¿å§ï¼ŒæŒºæœ‰æ„æ€"></a>4ã€é‡ç‚¹è¯´ä¸€ä¸ªä¸œè¥¿å§ï¼ŒæŒºæœ‰æ„æ€</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç”±äºå‹ç¼©å›¾ç‰‡æ¯”è¾ƒè€—æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦å‹ç¼©ä¿®æ”¹çš„å›¾ç‰‡ï¼Œæ²¡æœ‰ä¿®æ”¹çš„ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–ã€‚è¿™å°±éœ€è¦ç”¨åˆ°gulp-cacheæ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> cache = <span class="built_in">require</span>(<span class="string">&#x27;gulp-cache&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cache <span class="keyword">from</span> <span class="string">&#x27;gulp-cache&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…é™¤ç¼“å­˜</span></span><br><span class="line"><span class="comment">// å¦‚æœæ‚¨å‘ç°éœ€è¦æ¸…é™¤ç¼“å­˜ï¼Œå¯ä»¥ä½¿ç”¨cache.clearAll()æ–¹æ³•ï¼š</span></span><br><span class="line">gulp.task(<span class="string">&#x27;clear&#x27;</span>, <span class="function">() =&gt;</span></span><br><span class="line">    cache.clearAll()</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—<br>    â­ éšç¬”</p>
<pre><code>     ä¸å–œå‹¿å–·å“¦ï¼Œå¯èƒ½æœ‰ç›˜é”™ï¼Œå…±åŒè¿›æ­¥å˜›~
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>jquery.cookie.js çš„ä»‹ç»ä¸ä½¿ç”¨æ–¹æ³•</title>
    <url>/2021/07/21/jquery/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>âœ¨ <a href>jquery.cookie.js çš„ä»‹ç»ä¸ä½¿ç”¨æ–¹æ³•</a> </p>
<h2 id="ä»€ä¹ˆæ˜¯-cookieï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-cookieï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ cookieï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ cookieï¼Ÿ</h2><p>cookie å°±æ˜¯é¡µé¢ç”¨æ¥ä¿å­˜ä¿¡æ¯ï¼Œæ¯”å¦‚è‡ªåŠ¨ç™»å½•ã€è®°ä½ç”¨æˆ·åç­‰ç­‰ã€‚</p>
<h2 id="cookie-çš„ç‰¹ç‚¹"><a href="#cookie-çš„ç‰¹ç‚¹" class="headerlink" title="cookie çš„ç‰¹ç‚¹"></a>cookie çš„ç‰¹ç‚¹</h2><pre><code>åŒä¸ªç½‘ç«™ä¸­æ‰€æœ‰çš„é¡µé¢å…±äº«ä¸€å¥— cookie
cookie æœ‰æ•°é‡ã€å¤§å°é™åˆ¶
cookie æœ‰è¿‡æœŸæ—¶é—´jquery.cookie.js æ˜¯ä¸€æ¬¾è½»é‡çº§çš„ cookie æ’ä»¶ï¼Œå¯ä»¥è¯»å–ï¼Œå†™å…¥å’Œåˆ é™¤ cookieã€‚æœ¬æ–‡ä¸»è¦é’ˆå¯¹
</code></pre>
<p>jquery.cookie.js çš„ç”¨æ³•è¿›è¡Œè¯¦ç»†çš„ä»‹ç»ã€‚</p>
<h2 id="jquery-cookie-js-ä½¿ç”¨æ–¹æ³•"><a href="#jquery-cookie-js-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="jquery.cookie.js ä½¿ç”¨æ–¹æ³•"></a>jquery.cookie.js ä½¿ç”¨æ–¹æ³•</h2><p>Cookies</p>
<p>å®šä¹‰ï¼šè®©ç½‘ç«™æœåŠ¡å™¨æŠŠå°‘é‡æ•°æ®å‚¨å­˜åˆ°å®¢æˆ·ç«¯çš„ç¡¬ç›˜æˆ–å†…å­˜ï¼Œä»å®¢æˆ·ç«¯çš„ç¡¬ç›˜è¯»å–æ•°æ®çš„ä¸€ç§æŠ€æœ¯ï¼›</p>
<p>ä¸‹è½½ä¸å¼•å…¥:jquery.cookie.js åŸºäº jqueryï¼›å…ˆå¼•å…¥ jqueryï¼Œå†å¼•å…¥ï¼šjquery.cookie.jsï¼›</p>
<p>ä¸‹è½½ï¼š<a href="http://plugins.jquery.com/cookie/">http://plugins.jquery.com/cookie/</a></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;js/jquery.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;js/jquery.cookie.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨ï¼š"><a href="#ä½¿ç”¨ï¼š" class="headerlink" title="ä½¿ç”¨ï¼š"></a>ä½¿ç”¨ï¼š</h4><h6 id="1-æ·»åŠ ä¸€ä¸ªâ€ä¼šè¯-cookieâ€"><a href="#1-æ·»åŠ ä¸€ä¸ªâ€ä¼šè¯-cookieâ€" class="headerlink" title="1. æ·»åŠ ä¸€ä¸ªâ€ä¼šè¯ cookieâ€"></a>1. æ·»åŠ ä¸€ä¸ªâ€ä¼šè¯ cookieâ€</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$.cookie(<span class="string">&quot;the_cookie&quot;</span>, <span class="string">&quot;the_value&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>æ³¨ï¼šå¦‚æœ $.cookie æ²¡æœ‰ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå½“æµè§ˆå™¨å…³é—­æ—¶ï¼Œè¯¥ cookie å°†ä¼šè‡ªåŠ¨åˆ é™¤ã€‚</p>
<p>è¿™é‡Œæ²¡æœ‰æŒ‡æ˜ cookie æœ‰æ•ˆæ—¶é—´ï¼Œæ‰€åˆ›å»ºçš„ cookie æœ‰æ•ˆæœŸé»˜è®¤åˆ°ç”¨æˆ·å…³é—­æµè§ˆå™¨ä¸ºæ­¢ï¼Œæ‰€ä»¥è¢«ç§°ä¸º â€œä¼šè¯ cookieï¼ˆsession cookieï¼‰â€</p>
<h6 id="2-åˆ›å»ºä¸€ä¸ª-cookie-å¹¶è®¾ç½®æœ‰æ•ˆæ—¶é—´ä¸º-7-å¤©"><a href="#2-åˆ›å»ºä¸€ä¸ª-cookie-å¹¶è®¾ç½®æœ‰æ•ˆæ—¶é—´ä¸º-7-å¤©" class="headerlink" title="2. åˆ›å»ºä¸€ä¸ª cookie å¹¶è®¾ç½®æœ‰æ•ˆæ—¶é—´ä¸º 7 å¤©"></a>2. åˆ›å»ºä¸€ä¸ª cookie å¹¶è®¾ç½®æœ‰æ•ˆæ—¶é—´ä¸º 7 å¤©</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$.cookie(<span class="string">&quot;the_cookie&quot;</span>, <span class="string">&quot;the_value&quot;</span>, &#123; <span class="attr">expires</span>: <span class="number">7</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>æ³¨ï¼š$.cookie ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé™¤äº†å¯ä»¥è®¾ç½®æœ‰æ•ˆæœŸï¼ˆexpires: 7ï¼‰ï¼Œè¿˜å¯ä»¥è®¾ç½®æœ‰æ•ˆè·¯å¾„ï¼ˆpath: â€˜/â€˜ï¼‰ã€æœ‰æ•ˆåŸŸï¼ˆdomain: â€˜jquery.comâ€™ï¼‰åŠå®‰å…¨æ€§ï¼ˆsecure: trueï¼‰ã€‚</p>
<p>è¿™é‡ŒæŒ‡æ˜äº† cookie æœ‰æ•ˆæ—¶é—´ï¼Œæ‰€åˆ›å»ºçš„ cookie è¢«ç§°ä¸ºâ€œæŒä¹… cookie ï¼ˆpersistent cookieï¼‰â€ã€‚æ³¨æ„å•ä½æ˜¯ï¼šå¤©ï¼›</p>
<h6 id="3-åˆ›å»ºä¸€ä¸ª-cookie-å¹¶è®¾ç½®-cookie-çš„æœ‰æ•ˆè·¯å¾„"><a href="#3-åˆ›å»ºä¸€ä¸ª-cookie-å¹¶è®¾ç½®-cookie-çš„æœ‰æ•ˆè·¯å¾„" class="headerlink" title="3. åˆ›å»ºä¸€ä¸ª cookie å¹¶è®¾ç½® cookie çš„æœ‰æ•ˆè·¯å¾„"></a>3. åˆ›å»ºä¸€ä¸ª cookie å¹¶è®¾ç½® cookie çš„æœ‰æ•ˆè·¯å¾„</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$.cookie(<span class="string">&quot;the_cookie&quot;</span>, <span class="string">&quot;the_value&quot;</span>, &#123; <span class="attr">expires</span>: <span class="number">7</span>, <span class="attr">path</span>: <span class="string">&quot;/&quot;</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰è®¾ç½® cookie çš„ç½‘é¡µæ‰èƒ½è¯»å–è¯¥ cookieã€‚å¦‚æœæƒ³è®©ä¸€ä¸ªé¡µé¢è¯»å–å¦ä¸€ä¸ªé¡µé¢è®¾ç½®çš„ cookieï¼Œå¿…é¡»è®¾ç½® cookie çš„è·¯å¾„ã€‚cookie çš„è·¯å¾„ç”¨äºè®¾ç½®èƒ½å¤Ÿè¯»å– cookie çš„é¡¶çº§ç›®å½•ã€‚å°†è¿™ä¸ªè·¯å¾„è®¾ç½®ä¸ºç½‘ç«™çš„æ ¹ç›®å½•ï¼Œå¯ä»¥è®©æ‰€æœ‰ç½‘é¡µéƒ½èƒ½äº’ç›¸è¯»å– cookie ï¼ˆä¸€èˆ¬ä¸è¦è¿™æ ·è®¾ç½®ï¼Œé˜²æ­¢å‡ºç°å†²çªï¼‰ã€‚</p>
<h6 id="4-è¯»å–-cookie"><a href="#4-è¯»å–-cookie" class="headerlink" title="4. è¯»å– cookie"></a>4. è¯»å– cookie</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$.cookie(<span class="string">&quot;the_cookie&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>æ³¨ï¼šå¦‚æœæ²¡æœ‰è¯¥ cookieï¼Œè¿”å› nullã€‚</p>
<h6 id="5-åˆ é™¤-cookie"><a href="#5-åˆ é™¤-cookie" class="headerlink" title="5. åˆ é™¤ cookie"></a>5. åˆ é™¤ cookie</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$.cookie(<span class="string">&quot;the_cookie&quot;</span>, <span class="literal">null</span>); <span class="comment">//é€šè¿‡ä¼ é€’nullä½œä¸ºcookieçš„å€¼å³å¯</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åªéœ€è¦ç»™éœ€è¦åˆ é™¤çš„ cookie è®¾ç½®ä¸º nullï¼Œå°±å¯ä»¥åˆ é™¤è¯¥ cookieã€‚</p>
<h6 id="6-å¯é€‰å‚æ•°"><a href="#6-å¯é€‰å‚æ•°" class="headerlink" title="6.å¯é€‰å‚æ•°"></a>6.å¯é€‰å‚æ•°</h6><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$.cookie(<span class="string">&quot;the_cookie&quot;</span>, <span class="string">&quot;the_value&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">expires</span>: <span class="number">7</span>,</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">  <span class="attr">domain</span>: <span class="string">&quot;jquery.com&quot;</span>,</span><br><span class="line">  <span class="attr">secure</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>expiresï¼šï¼ˆNumber|Dateï¼‰æœ‰æ•ˆæœŸï¼›è®¾ç½®ä¸€ä¸ªæ•´æ•°æ—¶ï¼Œå•ä½æ˜¯å¤©ï¼›ä¹Ÿå¯ä»¥è®¾ç½®ä¸€ä¸ªæ—¥æœŸå¯¹è±¡ä½œä¸º Cookie çš„è¿‡æœŸæ—¥æœŸï¼›</li>
<li>pathï¼šï¼ˆStringï¼‰åˆ›å»ºè¯¥ Cookie çš„é¡µé¢è·¯å¾„ï¼›</li>
<li>domainï¼šï¼ˆStringï¼‰åˆ›å»ºè¯¥ Cookie çš„é¡µé¢åŸŸåï¼›</li>
<li>secureï¼šï¼ˆBoobleanï¼‰å¦‚æœè®¾ä¸º trueï¼Œé‚£ä¹ˆæ­¤ Cookie çš„ä¼ è¾“ä¼šè¦æ±‚ä¸€ä¸ªå®‰å…¨åè®®ï¼Œä¾‹å¦‚ï¼šHTTPSï¼›</li>
</ul>
<h5 id="æœ€åé™„ä¸Šæºä»£ç ï¼š"><a href="#æœ€åé™„ä¸Šæºä»£ç ï¼š" class="headerlink" title="æœ€åé™„ä¸Šæºä»£ç ï¼š"></a>æœ€åé™„ä¸Šæºä»£ç ï¼š</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Cookie plugin</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2006 Klaus Hartl (stilbuero.de)</span></span><br><span class="line"><span class="comment"> * Dual licensed under the MIT and GPL licenses:</span></span><br><span class="line"><span class="comment"> * http://www.opensource.org/licenses/mit-license.php</span></span><br><span class="line"><span class="comment"> * http://www.gnu.org/licenses/gpl.html</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Create a cookie with the given name and value and other optional parameters.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@example </span>$.cookie(&#x27;the_cookie&#x27;, &#x27;the_value&#x27;);</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc </span>Set the value of a cookie.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@example </span>$.cookie(&#x27;the_cookie&#x27;, &#x27;the_value&#x27;, &#123; expires: 7, path: &#x27;/&#x27;, domain: &#x27;jquery.com&#x27;, secure: true &#125;);</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc </span>Create a cookie with all available options.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@example </span>$.cookie(&#x27;the_cookie&#x27;, &#x27;the_value&#x27;);</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc </span>Create a session cookie.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@example </span>$.cookie(&#x27;the_cookie&#x27;, null);</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc </span>Delete a cookie by passing null as value. Keep in mind that you have to use the same path and domain</span></span><br><span class="line"><span class="comment"> * used when the cookie was set.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>String name The name of the cookie.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>String value The value of the cookie.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>Object options An object literal containing key/value pairs to provide optional cookie attributes.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@option </span>Number|Date expires Either an integer specifying the expiration date from now on in days or a Date object.</span></span><br><span class="line"><span class="comment"> *    If a negative value is specified (e.g. a date in the past), the cookie will be deleted.</span></span><br><span class="line"><span class="comment"> *    If set to null or omitted, the cookie will be a session cookie and will not be retained</span></span><br><span class="line"><span class="comment"> *    when the the browser exits.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@option </span>String path The value of the path atribute of the cookie (default: path of page that created the cookie).</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@option </span>String domain The value of the domain attribute of the cookie (default: domain of page that created the cookie).</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@option </span>Boolean secure If true, the secure attribute of the cookie will be set and the cookie transmission will</span></span><br><span class="line"><span class="comment"> *   require a secure protocol (like HTTPS).</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type <span class="variable">undefined</span></span></span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@name </span>$.cookie</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@cat </span>Plugins/Cookie</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author </span>Klaus Hartl/klaus.hartl<span class="doctag">@stilbuero</span>.de</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Get the value of a cookie with the given name.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@example </span>$.cookie(&#x27;the_cookie&#x27;);</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc </span>Get the value of a cookie.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>String name The name of the cookie.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return </span>The value of the cookie.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type <span class="variable">String</span></span></span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@name </span>$.cookie</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@cat </span>Plugins/Cookie</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author </span>Klaus Hartl/klaus.hartl<span class="doctag">@stilbuero</span>.de</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">jQuery.cookie = <span class="function"><span class="keyword">function</span> (<span class="params">name, value, options</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value != <span class="string">&quot;undefined&quot;</span>) &#123;</span><br><span class="line">    <span class="comment">// name and value given, set cookie</span></span><br><span class="line">    options = options || &#123;&#125;;</span><br><span class="line">    <span class="keyword">if</span> (value === <span class="literal">null</span>) &#123;</span><br><span class="line">      value = <span class="string">&quot;&quot;</span>;</span><br><span class="line">      options = $.extend(&#123;&#125;, options); <span class="comment">// clone object since it&#x27;s unexpected behavior if the expired property were changed</span></span><br><span class="line">      options.expires = -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> expires = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      options.expires &amp;&amp;</span><br><span class="line">      (<span class="keyword">typeof</span> options.expires == <span class="string">&quot;number&quot;</span> || options.expires.toUTCString)</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">var</span> date;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> options.expires == <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">        date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">        date.setTime(date.getTime() + options.expires * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        date = options.expires;</span><br><span class="line">      &#125;</span><br><span class="line">      expires = <span class="string">&quot;; expires=&quot;</span> + date.toUTCString(); <span class="comment">// use expires attribute, max-age is not supported by IE</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// NOTE Needed to parenthesize options.path and options.domain</span></span><br><span class="line">    <span class="comment">// in the following expressions, otherwise they evaluate to undefined</span></span><br><span class="line">    <span class="comment">// in the packed version for some reason...</span></span><br><span class="line">    <span class="keyword">var</span> path = options.path ? <span class="string">&quot;; path=&quot;</span> + options.path : <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> domain = options.domain ? <span class="string">&quot;; domain=&quot;</span> + options.domain : <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> secure = options.secure ? <span class="string">&quot;; secure&quot;</span> : <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="built_in">document</span>.cookie = [</span><br><span class="line">      name,</span><br><span class="line">      <span class="string">&quot;=&quot;</span>,</span><br><span class="line">      <span class="built_in">encodeURIComponent</span>(value),</span><br><span class="line">      expires,</span><br><span class="line">      path,</span><br><span class="line">      domain,</span><br><span class="line">      secure,</span><br><span class="line">    ].join(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// only name given, get cookie</span></span><br><span class="line">    <span class="keyword">var</span> cookieValue = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.cookie &amp;&amp; <span class="built_in">document</span>.cookie != <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> cookies = <span class="built_in">document</span>.cookie.split(<span class="string">&quot;;&quot;</span>);</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; cookies.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> cookie = jQuery.trim(cookies[i]);</span><br><span class="line">        <span class="comment">// Does this cookie string begin with the name we want?</span></span><br><span class="line">        <span class="keyword">if</span> (cookie.substring(<span class="number">0</span>, name.length + <span class="number">1</span>) == name + <span class="string">&quot;=&quot;</span>) &#123;</span><br><span class="line">          cookieValue = <span class="built_in">decodeURIComponent</span>(cookie.substring(name.length + <span class="number">1</span>));</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cookieValue;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="æ„Ÿæ¿€"><a href="#æ„Ÿæ¿€" class="headerlink" title="æ„Ÿæ¿€"></a>æ„Ÿæ¿€</h5>]]></content>
  </entry>
  <entry>
    <title>mysqlPassword</title>
    <url>/2021/10/15/mysqlPassword/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>âœ¨ ä»Šå¤©å¯åŠ¨mysqlï¼Œå¿˜è®°äº†å¯†ç  ERROR 1045 (28000): Access denied for user â€˜rootâ€™@â€˜localhostâ€™ (using password: NO) â€¦ è“å…½äº†</p>
<pre><code>å¦‚æœéœ€è¦é‡ç½®mysql = &gt; æ¸…ç©º data    æ‰§è¡Œ mysqld --initialize   //æ‰§è¡Œådataæ–‡ä»¶å¤¹ä¸­ä¼šç”Ÿæˆæ–‡ä»¶
</code></pre>
<h2 id="setp1-å…³é—­MysqlæœåŠ¡"><a href="#setp1-å…³é—­MysqlæœåŠ¡" class="headerlink" title="setp1 å…³é—­MysqlæœåŠ¡"></a>setp1 å…³é—­MysqlæœåŠ¡</h2><p>é€šè¿‡net stop mysqlæˆ–è€…ä»»åŠ¡ç®¡ç†å™¨ä¸­å…³é—­ã€‚</p>
<p>è¯·ç¡®ä¿mysqlå…³é—­</p>
<p>æ³¨ï¼šéœ€è¦ä»¥ç®¡ç†å‘˜æƒé™æ“ä½œæ‰“å¼€cmdï¼Œå¹¶åˆ°mysqlæŒ‡å®šbinç›®å½•</p>
<p><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/mysql01.png" alt="Alt text"></p>
<h2 id="setp2-Mysqlå…å¯†ç ç™»å½•"><a href="#setp2-Mysqlå…å¯†ç ç™»å½•" class="headerlink" title="setp2 Mysqlå…å¯†ç ç™»å½•"></a>setp2 Mysqlå…å¯†ç ç™»å½•</h2><p>ä¸‰ä¸ªçª—å£æ‰“å¼€åŒæ ·çš„ä½ç½®<br><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/mysql02.png" alt="Alt text"></p>
<pre><code>1. çª—å£1ï¼š
    ç®¡ç†å‘˜æƒé™cmd çª—å£1ï¼š
    cmd &gt; mysqld -console --skip-grant-tables --shared-memory æ¥è·³è¿‡å¯†ç éªŒè¯
    æ­¤æ“ä½œä¸ä¼šå‡ºç°å…¶ä»–çš„æç¤º

    æ­¤cmd çª—å£1 æš‚æ—¶ä¸è¦å…³é—­ï¼ä¸è¦å…³é—­ï¼ä¸è¦å…³é—­ï¼

2. çª—å£2ï¼š
    å†åŒæ ·æ‰“å¼€ä¸€ä¸ª ç®¡ç†å‘˜æƒé™cmd çª—å£2ï¼š
    net stop mysql  ç¡®ä¿å·²å…³é—­  åŒæ ·çš„å‘½ä»¤
    cmd &gt; mysqld --console --skip-grant-tables --shared-memory

    æ­¤cmd çª—å£2 æš‚æ—¶ä¸è¦å…³é—­ï¼ä¸è¦å…³é—­ï¼ä¸è¦å…³é—­ï¼

3. çª—å£3ï¼š
    cmd &gt; mysql -u root -p
    æ­¤æ—¶ä¼šæ˜¾ç¤ºè®©ä½ è¾“å…¥å¯†ç ï¼Œç›´æ¥å›è½¦ï¼Œå°±å¯ä»¥æˆåŠŸè¿æ¥Mysqlã€‚
    è¾“å…¥ä»£ç ï¼Œå°†å¯†ç è®¾ç½®ä¸ºç©ºï¼ˆæ­¤æ—¶è¿˜ä¸èƒ½ç›´æ¥ä¿®æ”¹å¯†ç ï¼Œå¿…é¡»å…ˆè®¾ç½®ä¸ºç©ºï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼‰
    mysql &gt; use mysql; (ä½¿ç”¨mysqlæ•°æ®è¡¨)
    update user set authentication_string=&#39;&#39; where user=&#39;root&#39;;ï¼ˆå°†å¯†ç ç½®ä¸ºç©ºï¼‰
    quit; (ç„¶åé€€å‡ºMysql)
</code></pre>
<h2 id="setp3-ä¿®æ”¹å¯†ç "><a href="#setp3-ä¿®æ”¹å¯†ç " class="headerlink" title="setp3 ä¿®æ”¹å¯†ç "></a>setp3 ä¿®æ”¹å¯†ç </h2><h3 id="1-å…³é—­-cmdçª—å£1"><a href="#1-å…³é—­-cmdçª—å£1" class="headerlink" title="1.å…³é—­ cmdçª—å£1"></a>1.å…³é—­ cmdçª—å£1</h3><pre><code>ä¸€å®šè¦å…³é—­ï¼
</code></pre>
<h3 id="2-cmdçª—å£2-æ“ä½œ"><a href="#2-cmdçª—å£2-æ“ä½œ" class="headerlink" title="2.cmdçª—å£2 æ“ä½œ"></a>2.cmdçª—å£2 æ“ä½œ</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">net stop mysql(å…³é—­mysqlæœåŠ¡,è™½ç„¶ä¼šæ˜¾ç¤ºæ²¡æœ‰å¼€å¯æœåŠ¡ï¼Œä½†æ˜¯ä»¥é˜²ä¸‡ä¸€)</span><br><span class="line">net start mysql(å†æ‰“å¼€mysqlæœåŠ¡)</span><br><span class="line"><span class="comment">//å¯åŠ¨æˆåŠŸä¹‹å</span></span><br><span class="line">cmd &gt; mysql -u root -p</span><br><span class="line"><span class="comment">//æ­¤å¤„å¯†ç ï¼Œç›´æ¥å›è½¦ï¼Œ çª—å£3å¯†ç ä¸ºç©º ç›´æ¥å…éªŒè¯</span></span><br><span class="line">mysql &gt; ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;root&#x27;</span>; <span class="comment">//æ›´æ”¹å¯†ç </span></span><br><span class="line">mysql &gt; quit <span class="comment">//é€€å‡ºmysql</span></span><br><span class="line"></span><br><span class="line">cmd &gt; mysql -u root -p</span><br><span class="line"><span class="comment">//å›è½¦  è¾“å…¥ è®¾ç½®çš„å¯†ç  root</span></span><br><span class="line">mysql &gt; ...  <span class="comment">//æˆåŠŸ</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åˆ°è¿™é‡Œï¼Œåº”è¯¥å·²ç»niceäº†~</p>
]]></content>
  </entry>
  <entry>
    <title>vueé¡¹ç›®ç›®å½•ç»“æ„è¯¦è§£</title>
    <url>/2022/03/20/vuelist/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>âœ¨ åŸºäº vue.js çš„å‰ç«¯å¼€å‘ç¯å¢ƒï¼Œç”¨äºå‰åç«¯åˆ†ç¦»åçš„å•é¡µåº”ç”¨å¼€å‘ï¼Œå¯ä»¥åœ¨å¼€å‘æ—¶ä½¿ç”¨ ES Nextã€scss ç­‰æœ€æ–°è¯­è¨€ç‰¹æ€§</p>
<p>åŸºç¡€åº“: vue.jsã€vue-routerã€vuexã€whatwg-fetch<br>ç¼–è¯‘/æ‰“åŒ…å·¥å…·ï¼šwebpackã€babelã€node-sass<br>å•å…ƒæµ‹è¯•å·¥å…·ï¼škarmaã€mochaã€sinon-chai<br>æœ¬åœ°æœåŠ¡å™¨ï¼šexpress</p>
<h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><p>â”œâ”€â”€ README.md é¡¹ç›®ä»‹ç»<br>â”œâ”€â”€ index.html å…¥å£é¡µé¢<br>â”œâ”€â”€ build æ„å»ºè„šæœ¬ç›®å½•<br>â”‚ â”œâ”€â”€ build-server.js è¿è¡Œæœ¬åœ°æ„å»ºæœåŠ¡å™¨ï¼Œå¯ä»¥è®¿é—®æ„å»ºåçš„é¡µé¢<br>â”‚ â”œâ”€â”€ build.js ç”Ÿäº§ç¯å¢ƒæ„å»ºè„šæœ¬<br>â”‚ â”œâ”€â”€ dev-client.js å¼€å‘æœåŠ¡å™¨çƒ­é‡è½½è„šæœ¬ï¼Œä¸»è¦ç”¨æ¥å®ç°å¼€å‘é˜¶æ®µçš„é¡µé¢è‡ªåŠ¨åˆ·æ–°<br>â”‚ â”œâ”€â”€ dev-server.js è¿è¡Œæœ¬åœ°å¼€å‘æœåŠ¡å™¨<br>â”‚ â”œâ”€â”€ utils.js æ„å»ºç›¸å…³å·¥å…·æ–¹æ³•<br>â”‚ â”œâ”€â”€ webpack.base.conf.js wabpack åŸºç¡€é…ç½®<br>â”‚ â”œâ”€â”€ webpack.dev.conf.js wabpack å¼€å‘ç¯å¢ƒé…ç½®<br>â”‚ â””â”€â”€ webpack.prod.conf.js wabpack ç”Ÿäº§ç¯å¢ƒé…ç½®<br>â”œâ”€â”€ config é¡¹ç›®é…ç½®<br>â”‚ â”œâ”€â”€ dev.env.js å¼€å‘ç¯å¢ƒå˜é‡<br>â”‚ â”œâ”€â”€ index.js é¡¹ç›®é…ç½®æ–‡ä»¶<br>â”‚ â”œâ”€â”€ prod.env.js ç”Ÿäº§ç¯å¢ƒå˜é‡<br>â”‚ â””â”€â”€ test.env.js æµ‹è¯•ç¯å¢ƒå˜é‡<br>â”œâ”€â”€ mock mock æ•°æ®ç›®å½•<br>â”‚ â””â”€â”€ hello.js<br>â”œâ”€â”€ package.json npm åŒ…é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å®šä¹‰äº†é¡¹ç›®çš„ npm è„šæœ¬ï¼Œä¾èµ–åŒ…ç­‰ä¿¡æ¯<br>â”œâ”€â”€ src æºç ç›®å½•<br>â”‚ â”œâ”€â”€ main.js main å…¥å£ js æ–‡ä»¶<br>â”‚ â”œâ”€â”€ app.vue æ ¹ç›®å½•<br>â”‚ â”œâ”€â”€ components å…¬å…±ç»„ä»¶ç›®å½•<br>â”‚ â”‚ â””â”€â”€ title.vue<br>â”‚ â”œâ”€â”€ assets assets èµ„æºç›®å½•ï¼Œè¿™é‡Œçš„èµ„æºä¼šè¢« webpack æ„å»º<br>â”‚ â”‚ â””â”€â”€ images<br>â”‚ â”‚ â””â”€â”€ logo.png<br>â”‚ â”œâ”€â”€ å‰ç«¯è·¯ç”±<br>â”‚ â”‚ â””â”€â”€ index.js<br>â”‚ â”œâ”€â”€ store åº”ç”¨çº§æ•°æ®ï¼ˆstateï¼‰<br>â”‚ â”‚ â””â”€â”€ index.js<br>â”‚ â””â”€â”€ views é¡µé¢ç›®å½•<br>â”‚ â”œâ”€â”€ hello.vue<br>â”‚ â””â”€â”€ notfound.vue<br>â”œâ”€â”€ static çº¯é™æ€èµ„æºï¼Œä¸ä¼šè¢« webpack æ„å»ºã€‚<br>â”œâ”€â”€ utitls å¤–éƒ¨å…¬ç”¨çš„ js æ–¹æ³•<br>â””â”€â”€ test æµ‹è¯•æ–‡ä»¶ç›®å½•ï¼ˆunit&amp;e2eï¼‰<br>â””â”€â”€ unit å•å…ƒæµ‹è¯•<br>â”œâ”€â”€ index.js å…¥å£è„šæœ¬<br>â”œâ”€â”€ karma.conf.js karma é…ç½®æ–‡ä»¶<br>â””â”€â”€ specs å•æµ‹ case ç›®å½•<br>â””â”€â”€ Hello.spec.js</p>
<p>å¸Œæœ›èƒ½å¤Ÿå¸®åˆ°ä½ ~</p>
]]></content>
  </entry>
  <entry>
    <title>shellçš„åˆæ¬¡è§é¢</title>
    <url>/2021/08/28/shell/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ğŸ“Œ å‰ç«¯æ—¥å¸¸æ‰“é‡</p>
<pre><code>    ä½¿ç”¨å°ä¹Œé¾Ÿgitæäº¤çš„ä»£ç ï¼Œå†å‘å¸ƒæ­£å¼æˆ–è€…æµ‹è¯•æ—¶ï¼Œæœ¬åœ°apiæ–‡ä»¶åœ¨æµ‹è¯•é˜¶æ®µå¤§æ¦‚ç‡ä¼šè¢«ä¿®æ”¹ï¼Œ

    è€ŒæœåŠ¡å™¨ä¸Šé¢çš„apiæ˜¯ä¸èƒ½æ›´æ”¹çš„ï¼Œå› æ­¤ï¼Œå†éƒ¨ç½²çš„æ—¶å€™ï¼Œapiçš„æµ‹è¯•æ¥å£å’Œæ­£å¼æ¥å£è¦å§‹ç»ˆå¯¹åº”
</code></pre>
<h2 id="shellçš„ä¸€é¡¿æ“ä½œ"><a href="#shellçš„ä¸€é¡¿æ“ä½œ" class="headerlink" title="shellçš„ä¸€é¡¿æ“ä½œ"></a>shellçš„ä¸€é¡¿æ“ä½œ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Lenovo@DESKTOP-DFV35HL MINGW64 /e/codeMy/shellSh (<span class="built_in">test</span>)</span><br><span class="line">$ /api.sh <span class="built_in">test</span>  //ä¼ å‚åŒºåˆ† <span class="built_in">test</span> prod</span><br></pre></td></tr></table></figure>

<pre><code>è¿™é‡Œè¿›è¡Œæ¥æ”¶å‚æ•°ï¼Œåˆ¤æ–­ + ä¿®æ”¹ï¼Œæ¯”è¾ƒå¥½ç†è§£
</code></pre>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">#!<span class="regexp">/bin/</span>sh</span><br><span class="line"><span class="keyword">if</span> [[ $<span class="number">1</span> = test ]]; then</span><br><span class="line">sed -i <span class="string">&#x27;s/`JQprod`/`JQtest`/g&#x27;</span> æ–‡ä»¶</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ $<span class="number">1</span> = prod ]]; then</span><br><span class="line">sed -i <span class="string">&#x27;s/`JQtest`/`JQprod`/g&#x27;</span> æ–‡ä»¶</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">exit</span><br></pre></td></tr></table></figure>

<p>ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—<br>â­ éšç¬”</p>
<pre><code>     ä¸å–œå‹¿å–·å“¦ ï¿£â–¡ï¿£ï½œï½œ ï¼Œå¯èƒ½æœ‰ç›˜é”™ï¼Œå…±åŒè¿›æ­¥ ï¼Œæ¬¢è¿ç•™è¨€~
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>vvp</title>
    <url>/2022/03/31/vvp/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>âœ¨ éšç€ Vue3 çš„æ™®åŠï¼Œå·²ç»æœ‰è¶Šæ¥è¶Šå¤šçš„é¡¹ç›®å¼€å§‹ä½¿ç”¨ Vue3ã€‚ä¸ºäº†å¿«é€Ÿè¿›å…¥å¼€å‘çŠ¶æ€ï¼Œåœ¨è¿™é‡Œå‘å¤§å®¶æ¨èä¸€å¥—å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å¼€å‘è„šæ‰‹æ¶ï¼Œæ¡†æ¶ä½¿ç”¨ï¼šVue3 + Vite2 + TypeScript + JSX + Pinia(Vuex) + Antdã€‚</p>
<h2 id="setp1-vite-ç›®å½•ç»“æ„"><a href="#setp1-vite-ç›®å½•ç»“æ„" class="headerlink" title="setp1 vite ç›®å½•ç»“æ„"></a>setp1 vite ç›®å½•ç»“æ„</h2><p>â”œâ”€â”€ src<br>â”‚ â”œâ”€â”€ App.tsx<br>â”‚ â”œâ”€â”€ api # æ¥å£ç®¡ç†æ¨¡å—<br>â”‚ â”œâ”€â”€ assets # é™æ€èµ„æºæ¨¡å—<br>â”‚ â”œâ”€â”€ components # å…¬å…±ç»„ä»¶æ¨¡å—<br>â”‚ â”œâ”€â”€ mock # mock æ¥å£æ¨¡æ‹Ÿæ¨¡å—<br>â”‚ â”œâ”€â”€ layouts # å…¬å…±è‡ªå®šä¹‰å¸ƒå±€<br>â”‚ â”œâ”€â”€ main.ts # å…¥å£æ–‡ä»¶<br>â”‚ â”œâ”€â”€ public # å…¬å…±èµ„æºæ¨¡å—<br>â”‚ â”œâ”€â”€ router # è·¯ç”±<br>â”‚ â”œâ”€â”€ store # vuex çŠ¶æ€åº“<br>â”‚ â”œâ”€â”€ types # å£°æ˜æ–‡ä»¶<br>â”‚ â”œâ”€â”€ utils # å…¬å…±æ–¹æ³•æ¨¡å—<br>â”‚ â””â”€â”€ views # è§†å›¾æ¨¡å—<br>â”œâ”€â”€ tsconfig.json<br>â””â”€â”€ vite.config.js</p>
<h2 id="setp2-whatâ€™s-Vite"><a href="#setp2-whatâ€™s-Vite" class="headerlink" title="setp2 whatâ€™s Vite"></a>setp2 whatâ€™s Vite</h2><p>Viteï¼ˆæ³•è¯­æ„ä¸º â€œå¿«é€Ÿçš„â€ï¼Œå‘éŸ³ /vit/ï¼Œå‘éŸ³åŒ â€œveetâ€ï¼‰æ˜¯ä¸€ç§æ–°å‹å‰ç«¯æ„å»ºå·¥å…·ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡å‰ç«¯å¼€å‘ä½“éªŒã€‚å®ƒä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š<br>ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œå®ƒåŸºäº åŸç”Ÿ ES æ¨¡å— æä¾›äº† ä¸°å¯Œçš„å†…å»ºåŠŸèƒ½ï¼Œå¦‚é€Ÿåº¦å¿«åˆ°æƒŠäººçš„ æ¨¡å—çƒ­æ›´æ–°ï¼ˆHMRï¼‰ã€‚<br>ä¸€å¥—æ„å»ºæŒ‡ä»¤ï¼Œå®ƒä½¿ç”¨ Rollup æ‰“åŒ…ä½ çš„ä»£ç ï¼Œå¹¶ä¸”å®ƒæ˜¯é¢„é…ç½®çš„ï¼Œå¯è¾“å‡ºç”¨äºç”Ÿäº§ç¯å¢ƒçš„é«˜åº¦ä¼˜åŒ–è¿‡çš„é™æ€èµ„æºã€‚<br>Vite æ„åœ¨æä¾›å¼€ç®±å³ç”¨çš„é…ç½®ï¼ŒåŒæ—¶å®ƒçš„ æ’ä»¶ API å’Œ JavaScript API å¸¦æ¥äº†é«˜åº¦çš„å¯æ‰©å±•æ€§ï¼Œå¹¶æœ‰å®Œæ•´çš„ç±»å‹æ”¯æŒã€‚</p>
<p>ä½ å¯ä»¥åœ¨ <a href="https://vitejs.cn/guide/why.html">ä½ å¯ä»¥åœ¨ ä¸ºä»€ä¹ˆé€‰ Vite ä¸­äº†è§£æ›´å¤šå…³äºé¡¹ç›®çš„è®¾è®¡åˆè¡·ã€‚</a> ä¸­äº†è§£æ›´å¤šå…³äºé¡¹ç›®çš„è®¾è®¡åˆè¡·ã€‚</p>
<h2 id="setp3-whatâ€™s-Pinia"><a href="#setp3-whatâ€™s-Pinia" class="headerlink" title="setp3 whatâ€™s Pinia"></a>setp3 whatâ€™s Pinia</h2><p>Pinia.js æ˜¯æ–°ä¸€ä»£çš„çŠ¶æ€ç®¡ç†å™¨ï¼Œç”± Vue.js å›¢é˜Ÿä¸­æˆå‘˜æ‰€å¼€å‘çš„ï¼Œå› æ­¤ä¹Ÿè¢«è®¤ä¸ºæ˜¯ä¸‹ä¸€ä»£çš„ Vuexï¼Œå³ Vuex5.xï¼Œåœ¨ Vue3.0 çš„é¡¹ç›®ä¸­ä½¿ç”¨ä¹Ÿæ˜¯å¤‡å—æ¨å´‡</p>
<h3 id="1-Pinia-js-æœ‰å¦‚ä¸‹ç‰¹ç‚¹"><a href="#1-Pinia-js-æœ‰å¦‚ä¸‹ç‰¹ç‚¹" class="headerlink" title="1.Pinia.js æœ‰å¦‚ä¸‹ç‰¹ç‚¹"></a>1.Pinia.js æœ‰å¦‚ä¸‹ç‰¹ç‚¹</h3><p>ç›¸æ¯” Vuex æ›´åŠ å®Œæ•´çš„ typescript çš„æ”¯æŒï¼›</p>
<p>è¶³å¤Ÿè½»é‡ï¼Œå‹ç¼©åçš„ä½“ç§¯åªæœ‰ 1.6kb;</p>
<p>å»é™¤ mutationsï¼Œåªæœ‰ stateï¼Œgettersï¼Œactionsï¼ˆæ”¯æŒåŒæ­¥å’Œå¼‚æ­¥ï¼‰ï¼›</p>
<p>ä½¿ç”¨ç›¸æ¯” Vuex æ›´åŠ æ–¹ä¾¿ï¼Œæ¯ä¸ªæ¨¡å—ç‹¬ç«‹ï¼Œæ›´å¥½çš„ä»£ç åˆ†å‰²ï¼Œæ²¡æœ‰æ¨¡å—åµŒå¥—ï¼Œstore ä¹‹é—´å¯ä»¥è‡ªç”±ä½¿ç”¨</p>
<h3 id="2-å®‰è£…"><a href="#2-å®‰è£…" class="headerlink" title="2.å®‰è£…"></a>2.å®‰è£…</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">npm install pinia --save</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-åˆ›å»º-Store"><a href="#3-åˆ›å»º-Store" class="headerlink" title="3.åˆ›å»º Store"></a>3.åˆ›å»º Store</h3><p>æ–°å»º src/store ç›®å½•å¹¶åœ¨å…¶ä¸‹é¢åˆ›å»º index.tsï¼Œå¹¶å¯¼å‡º store</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createPinia()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<p>åœ¨ main.ts ä¸­å¼•å…¥</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = createApp(App)</span><br><span class="line"></span><br><span class="line">app.use(store)</span><br></pre></td></tr></table></figure>

<h3 id="4-å®šä¹‰-State"><a href="#4-å®šä¹‰-State" class="headerlink" title="4.å®šä¹‰ State"></a>4.å®šä¹‰ State</h3><p>åœ¨æ–°å»º src/store/modulesï¼Œæ ¹æ®æ¨¡å—åˆ’åˆ†åœ¨ modules ä¸‹æ–°å¢ common.ts</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> CommonStore = defineStore(<span class="string">&#x27;common&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// çŠ¶æ€åº“</span></span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">userInfo</span>: <span class="literal">null</span>, <span class="comment">//ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">  &#125;),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="5-è·å–-State"><a href="#5-è·å–-State" class="headerlink" title="5.è·å– State"></a>5.è·å– State</h3><p>è·å– state æœ‰å¤šç§æ–¹å¼ï¼Œæœ€å¸¸ç”¨ä¸€ä¸‹å‡ ç§ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; CommonStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/store/modules/common&#x27;</span></span><br><span class="line"><span class="comment">// åœ¨æ­¤çœç•¥defineComponent</span></span><br><span class="line"><span class="function"><span class="title">setup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> commonStore = CommonStore()</span><br><span class="line">    <span class="keyword">return</span> <span class="function">()=&gt;</span>(</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;commonStore.userInfo&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ computed è·å–</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> userInfo = computed(<span class="function">() =&gt;</span> common.userInfo)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ Pinia æä¾›çš„ storeToRefs</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; storeToRefs &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; CommonStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/store/modules/common&#x27;</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="keyword">const</span> commonStore = CommonStore()</span><br><span class="line"><span class="keyword">const</span> &#123; userInfo &#125; = storeToRefs(commonStore)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ä¿®æ”¹-State"><a href="#ä¿®æ”¹-State" class="headerlink" title="ä¿®æ”¹ State"></a>ä¿®æ”¹ State</h2><p>ä¿®æ”¹ state çš„ä¸‰ç§æ–¹å¼ï¼š</p>
<p>1.ç›´æ¥ä¿®æ”¹ï¼ˆä¸æ¨èï¼‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">commonStore.userInfo = <span class="string">&#x27;æ›¹æ“&#x27;</span></span><br></pre></td></tr></table></figure>

<p>2.é€šè¿‡$patch</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">commonStore.$patch(&#123;</span><br><span class="line">  <span class="attr">userInfo</span>: <span class="string">&#x27;æ›¹æ“&#x27;</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>3.é€šè¿‡ actions ä¿®æ”¹ store</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">commonStore.$patch(&#123;</span><br><span class="line">  <span class="attr">userInfo</span>: <span class="string">&#x27;æ›¹æ“&#x27;</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; CommonStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/store/modules/common&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> commonStore = CommonStore()</span><br><span class="line">commonStore.setUserInfo(<span class="string">&#x27;æ›¹æ“&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Getters"><a href="#Getters" class="headerlink" title="Getters"></a>Getters</h2><p>ä¿®æ”¹ state çš„ä¸‰ç§æ–¹å¼ï¼š</p>
<p>ä½¿ç”¨åŒ State è·å–</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> CommonStore = defineStore(<span class="string">&#x27;common&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// çŠ¶æ€åº“</span></span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">userInfo</span>: <span class="literal">null</span>, <span class="comment">//ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="attr">getUserInfo</span>: <span class="function">(<span class="params">state</span>) =&gt;</span> state.userInfo,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="Actions"><a href="#Actions" class="headerlink" title="Actions"></a>Actions</h2><p>Pinia èµ‹äºˆäº† Actions æ›´å¤§çš„èŒèƒ½ï¼Œç›¸è¾ƒäº Vuexï¼ŒPinia å»é™¤äº† Mutationsï¼Œä»…ä¾é  Actions æ¥æ›´æ”¹ Store çŠ¶æ€ï¼ŒåŒæ­¥å¼‚æ­¥éƒ½å¯ä»¥æ”¾åœ¨ Actions ä¸­ã€‚</p>
<h3 id="åŒæ­¥-action"><a href="#åŒæ­¥-action" class="headerlink" title="åŒæ­¥ action"></a>åŒæ­¥ action</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> CommonStore = defineStore(<span class="string">&#x27;common&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// çŠ¶æ€åº“</span></span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">userInfo</span>: <span class="literal">null</span>, <span class="comment">//ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="function"><span class="title">setUserInfo</span>(<span class="params">data</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.userInfo = data</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="å¼‚æ­¥-actions"><a href="#å¼‚æ­¥-actions" class="headerlink" title="å¼‚æ­¥ actions"></a>å¼‚æ­¥ actions</h3><p>Pinia èµ‹äºˆäº† Actions æ›´å¤§çš„èŒèƒ½ï¼Œç›¸è¾ƒäº Vuexï¼ŒPinia å»é™¤äº† Mutationsï¼Œä»…ä¾é  Actions æ¥æ›´æ”¹ Store çŠ¶æ€ï¼ŒåŒæ­¥å¼‚æ­¥éƒ½å¯ä»¥æ”¾åœ¨ Actions ä¸­ã€‚</p>
<p>åŒæ­¥ action</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">   <span class="keyword">async</span> <span class="function"><span class="title">getUserInfo</span>(<span class="params">params</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> data = <span class="keyword">await</span> api.getUser(params)</span><br><span class="line">      <span class="keyword">return</span> data</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å†…éƒ¨-actions-é—´ç›¸äº’è°ƒç”¨"><a href="#å†…éƒ¨-actions-é—´ç›¸äº’è°ƒç”¨" class="headerlink" title="å†…éƒ¨ actions é—´ç›¸äº’è°ƒç”¨"></a>å†…éƒ¨ actions é—´ç›¸äº’è°ƒç”¨</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">   <span class="keyword">async</span> <span class="function"><span class="title">getUserInfo</span>(<span class="params">params</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> data = <span class="keyword">await</span> api.getUser(params)</span><br><span class="line">      <span class="built_in">this</span>.setUserInfo(data)</span><br><span class="line">      <span class="keyword">return</span> data</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">setUserInfo</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">       <span class="built_in">this</span>.userInfo = data</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="modules-é—´-actions-ç›¸äº’è°ƒç”¨"><a href="#modules-é—´-actions-ç›¸äº’è°ƒç”¨" class="headerlink" title="modules é—´ actions ç›¸äº’è°ƒç”¨"></a>modules é—´ actions ç›¸äº’è°ƒç”¨</h3><pre><code>import &#123; UserStore &#125; from &#39;./modules/user&#39;
</code></pre>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">   <span class="keyword">async</span> <span class="function"><span class="title">getUserInfo</span>(<span class="params">params</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> data = <span class="keyword">await</span> api.getUser(params)</span><br><span class="line">      <span class="keyword">const</span> userStore = userStore()</span><br><span class="line">      userStore.setUserInfo(data)</span><br><span class="line">      <span class="keyword">return</span> data</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="pinia-plugin-persist-æ’ä»¶å®ç°æ•°æ®æŒä¹…åŒ–"><a href="#pinia-plugin-persist-æ’ä»¶å®ç°æ•°æ®æŒä¹…åŒ–" class="headerlink" title="pinia-plugin-persist æ’ä»¶å®ç°æ•°æ®æŒä¹…åŒ–"></a>pinia-plugin-persist æ’ä»¶å®ç°æ•°æ®æŒä¹…åŒ–</h3><p>å®‰è£…</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">npm i pinia-plugin-persist --save</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/store/index.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> piniaPluginPersist <span class="keyword">from</span> <span class="string">&#x27;pinia-plugin-persist&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createPinia().use(piniaPluginPersist)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<p>å¯¹åº” store ä¸­çš„ä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> CommonStore = defineStore(<span class="string">&#x27;common&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// çŠ¶æ€åº“</span></span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">userInfo</span>: <span class="literal">null</span>, <span class="comment">//ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="comment">// å¼€å¯æ•°æ®ç¼“å­˜</span></span><br><span class="line">  <span class="attr">persist</span>: &#123;</span><br><span class="line">    <span class="attr">enabled</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">strategies</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">storage</span>: <span class="built_in">localStorage</span>, <span class="comment">// é»˜è®¤å­˜å‚¨åœ¨sessionStorageé‡Œ</span></span><br><span class="line">        <span class="attr">paths</span>: [<span class="string">&#x27;userInfo&#x27;</span>], <span class="comment">// æŒ‡å®šå­˜å‚¨stateï¼Œä¸å†™åˆ™å­˜å‚¨æ‰€æœ‰</span></span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="Fetch"><a href="#Fetch" class="headerlink" title="Fetch"></a>Fetch</h2><p>ä¸ºäº†æ›´å¥½çš„æ”¯æŒ TypeScriptï¼Œç»Ÿè®¡ Api è¯·æ±‚ï¼Œè¿™é‡Œå°† axios è¿›è¡ŒäºŒæ¬¡å°è£…</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// src/utils/fetch.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> axios, &#123; AxiosRequestConfig, AxiosResponse, AxiosInstance &#125; <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; getToken &#125; <span class="keyword">from</span> <span class="string">&#x27;./util&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Modal &#125; <span class="keyword">from</span> <span class="string">&#x27;ant-design-vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Message, Notification &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/resetMessage&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// .envç¯å¢ƒå˜é‡</span></span><br><span class="line"><span class="keyword">const</span> BaseUrl = <span class="keyword">import</span>.meta.env.VITE_API_BASE_URL <span class="keyword">as</span> string</span><br><span class="line"></span><br><span class="line"><span class="comment">// create an axios instance</span></span><br><span class="line"><span class="keyword">const</span> service: AxiosInstance = axios.create(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: BaseUrl, <span class="comment">// æ­£å¼ç¯å¢ƒ</span></span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">60</span> * <span class="number">1000</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123;&#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯·æ±‚æ‹¦æˆª</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">service.interceptors.request.use(</span><br><span class="line">  <span class="function">(<span class="params">config: AxiosRequestConfig</span>) =&gt;</span> &#123;</span><br><span class="line">    config.headers.common.Authorization = getToken() <span class="comment">// è¯·æ±‚å¤´å¸¦ä¸Štoken</span></span><br><span class="line">    config.headers.common.token = getToken()</span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> <span class="built_in">Promise</span>.reject(error),</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å“åº”æ‹¦æˆª</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">service.interceptors.response.use(</span><br><span class="line">  <span class="function">(<span class="params">response: AxiosResponse</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (response.status == <span class="number">201</span> || response.status == <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; code, status, msg &#125; = response.data</span><br><span class="line">      <span class="keyword">if</span> (code == <span class="number">401</span>) &#123;</span><br><span class="line">        Modal.warning(&#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;tokenå‡ºé”™&#x27;</span>,</span><br><span class="line">          <span class="attr">content</span>: <span class="string">&#x27;tokenå¤±æ•ˆï¼Œè¯·é‡æ–°ç™»å½•ï¼&#x27;</span>,</span><br><span class="line">          <span class="attr">onOk</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            sessionStorage.clear()</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (code == <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (status) &#123;</span><br><span class="line">          <span class="comment">// æ¥å£è¯·æ±‚æˆåŠŸ</span></span><br><span class="line">          msg &amp;&amp; Message.success(msg) <span class="comment">// åå°å¦‚æœè¿”å›äº†msgï¼Œåˆ™å°†msgæç¤ºå‡ºæ¥</span></span><br><span class="line">          <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(response) <span class="comment">// è¿”å›æˆåŠŸæ•°æ®</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¥å£å¼‚å¸¸</span></span><br><span class="line">        msg &amp;&amp; Message.warning(msg) <span class="comment">// åå°å¦‚æœè¿”å›äº†msgï¼Œåˆ™å°†msgæç¤ºå‡ºæ¥</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(response) <span class="comment">// è¿”å›å¼‚å¸¸æ•°æ®</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// æ¥å£å¼‚å¸¸</span></span><br><span class="line">        msg &amp;&amp; Message.error(msg)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(response)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (error.response.status) &#123;</span><br><span class="line">      <span class="keyword">switch</span> (error.response.status) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">500</span>:</span><br><span class="line">          Notification.error(&#123;</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&#x27;æ¸©é¦¨æç¤º&#x27;</span>,</span><br><span class="line">            <span class="attr">description</span>: <span class="string">&#x27;æœåŠ¡å¼‚å¸¸ï¼Œè¯·é‡å¯æœåŠ¡å™¨ï¼&#x27;</span>,</span><br><span class="line">          &#125;)</span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">401</span>:</span><br><span class="line">          Notification.error(&#123;</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&#x27;æ¸©é¦¨æç¤º&#x27;</span>,</span><br><span class="line">            <span class="attr">description</span>: <span class="string">&#x27;æœåŠ¡å¼‚å¸¸ï¼Œè¯·é‡å¯æœåŠ¡å™¨ï¼&#x27;</span>,</span><br><span class="line">          &#125;)</span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">403</span>:</span><br><span class="line">          Notification.error(&#123;</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&#x27;æ¸©é¦¨æç¤º&#x27;</span>,</span><br><span class="line">            <span class="attr">description</span>: <span class="string">&#x27;æœåŠ¡å¼‚å¸¸ï¼Œè¯·é‡å¯æœåŠ¡å™¨ï¼&#x27;</span>,</span><br><span class="line">          &#125;)</span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        <span class="comment">// 404è¯·æ±‚ä¸å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">404</span>:</span><br><span class="line">          Notification.error(&#123;</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&#x27;æ¸©é¦¨æç¤º&#x27;</span>,</span><br><span class="line">            <span class="attr">description</span>: <span class="string">&#x27;æœåŠ¡å¼‚å¸¸ï¼Œè¯·é‡å¯æœåŠ¡å™¨ï¼&#x27;</span>,</span><br><span class="line">          &#125;)</span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">          Notification.error(&#123;</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&#x27;æ¸©é¦¨æç¤º&#x27;</span>,</span><br><span class="line">            <span class="attr">description</span>: <span class="string">&#x27;æœåŠ¡å¼‚å¸¸ï¼Œè¯·é‡å¯æœåŠ¡å™¨ï¼&#x27;</span>,</span><br><span class="line">          &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error.response)</span><br><span class="line">  &#125;,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">interface Http &#123;</span><br><span class="line">  fetch&lt;T&gt;(params: AxiosRequestConfig): <span class="built_in">Promise</span>&lt;StoreState.ResType&lt;T&gt;&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> http: Http = &#123;</span><br><span class="line">  <span class="comment">// ç”¨æ³•ä¸axiosä¸€è‡´ï¼ˆåŒ…å«axioså†…ç½®æ‰€æœ‰è¯·æ±‚æ–¹å¼ï¼‰</span></span><br><span class="line">  <span class="function"><span class="title">fetch</span>(<span class="params">params</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      service(params)</span><br><span class="line">        .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          resolve(res.data)</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">          reject(err.data)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> http[<span class="string">&#x27;fetch&#x27;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/api/user.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">&#x27;qs&#x27;</span></span><br><span class="line"><span class="keyword">import</span> fetch <span class="keyword">from</span> <span class="string">&#x27;@/utils/fetch&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; IUserApi &#125; <span class="keyword">from</span> <span class="string">&#x27;./types/user&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> UserApi: IUserApi = &#123;</span><br><span class="line">  <span class="comment">// ç™»å½•</span></span><br><span class="line">  <span class="attr">login</span>: <span class="function">(<span class="params">params</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fetch(&#123;</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: params,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> UserApi</span><br></pre></td></tr></table></figure>

<p>ç±»å‹å®šä¹‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¥å£è¿”å›ç»“æœTypes</span></span><br><span class="line"><span class="comment"> * --------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// ç™»å½•è¿”å›ç»“æœ</span></span><br><span class="line"><span class="keyword">export</span> interface ILoginData &#123;</span><br><span class="line">  <span class="attr">token</span>: string</span><br><span class="line">  <span class="attr">userInfo</span>: &#123;</span><br><span class="line">    <span class="attr">address</span>: string</span><br><span class="line">    <span class="attr">username</span>: string</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¥å£å‚æ•°Types</span></span><br><span class="line"><span class="comment"> * --------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// ç™»å½•å‚æ•°</span></span><br><span class="line"><span class="keyword">export</span> interface ILoginApiParams &#123;</span><br><span class="line">  <span class="attr">username</span>: string <span class="comment">// ç”¨æˆ·å</span></span><br><span class="line">  <span class="attr">password</span>: string <span class="comment">// å¯†ç </span></span><br><span class="line">  <span class="attr">captcha</span>: string <span class="comment">// éªŒè¯ç </span></span><br><span class="line">  <span class="attr">uuid</span>: string <span class="comment">// éªŒè¯ç uuid</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¥å£å®šä¹‰Types</span></span><br><span class="line"><span class="comment"> * --------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> interface IUserApi &#123;</span><br><span class="line">  <span class="attr">login</span>: <span class="function">(<span class="params">params: ILoginApiParams</span>) =&gt;</span> <span class="built_in">Promise</span>&lt;StoreState.ResType&lt;ILoginData&gt;&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Router4"><a href="#Router4" class="headerlink" title="Router4"></a>Router4</h2><pre><code>titleï¼š å¯¼èˆªæ˜¾ç¤ºæ–‡å­—ï¼›hidden: å¯¼èˆªä¸Šæ˜¯å¦éšè—è¯¥è·¯ç”± (true: ä¸æ˜¾ç¤º false:æ˜¾ç¤º)
</code></pre>
<h3 id="1-åŸºç¡€è·¯ç”±"><a href="#1-åŸºç¡€è·¯ç”±" class="headerlink" title="1.åŸºç¡€è·¯ç”±"></a>1.åŸºç¡€è·¯ç”±</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/router/router.config.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Routes: <span class="built_in">Array</span>&lt;RouteRecordRaw&gt; = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/403&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;403&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span></span><br><span class="line">      <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &quot;403&quot; */</span> <span class="string">&#x27;@/views/exception/403&#x27;</span>),</span><br><span class="line">    <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&#x27;403&#x27;</span>, <span class="attr">permission</span>: [<span class="string">&#x27;exception&#x27;</span>], <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/404&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;404&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span></span><br><span class="line">      <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &quot;404&quot; */</span> <span class="string">&#x27;@/views/exception/404&#x27;</span>),</span><br><span class="line">    <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&#x27;404&#x27;</span>, <span class="attr">permission</span>: [<span class="string">&#x27;exception&#x27;</span>], <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/500&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;500&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span></span><br><span class="line">      <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &quot;500&quot; */</span> <span class="string">&#x27;@/views/exception/500&#x27;</span>),</span><br><span class="line">    <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&#x27;500&#x27;</span>, <span class="attr">permission</span>: [<span class="string">&#x27;exception&#x27;</span>], <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/:pathMatch(.*)&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span></span><br><span class="line">      <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &quot;404&quot; */</span> <span class="string">&#x27;@/views/exception/404&#x27;</span>),</span><br><span class="line">    <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&#x27;404&#x27;</span>, <span class="attr">hidden</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h3 id="2-åŠ¨æ€è·¯ç”±-æƒé™è·¯ç”±"><a href="#2-åŠ¨æ€è·¯ç”±-æƒé™è·¯ç”±" class="headerlink" title="2.åŠ¨æ€è·¯ç”±(æƒé™è·¯ç”±)"></a>2.åŠ¨æ€è·¯ç”±(æƒé™è·¯ç”±)</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/router/router.ts</span></span><br><span class="line"></span><br><span class="line">router.beforeEach(</span><br><span class="line">  <span class="keyword">async</span> (</span><br><span class="line">    to: RouteLocationNormalized,</span><br><span class="line">    <span class="attr">from</span>: RouteLocationNormalized,</span><br><span class="line">    <span class="attr">next</span>: NavigationGuardNext,</span><br><span class="line">  ) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> token: string = getToken() <span class="keyword">as</span> string</span><br><span class="line">    <span class="keyword">if</span> (token) &#123;</span><br><span class="line">      <span class="comment">// ç¬¬ä¸€æ¬¡åŠ è½½è·¯ç”±åˆ—è¡¨å¹¶ä¸”è¯¥é¡¹ç›®éœ€è¦åŠ¨æ€è·¯ç”±</span></span><br><span class="line">      <span class="keyword">if</span> (!isAddDynamicMenuRoutes) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="comment">//è·å–åŠ¨æ€è·¯ç”±è¡¨</span></span><br><span class="line">          <span class="keyword">const</span> res: any = <span class="keyword">await</span> UserApi.getPermissionsList(&#123;&#125;)</span><br><span class="line">          <span class="keyword">if</span> (res.code == <span class="number">200</span>) &#123;</span><br><span class="line">            isAddDynamicMenuRoutes = <span class="literal">true</span></span><br><span class="line">            <span class="keyword">const</span> menu = res.data</span><br><span class="line">            <span class="comment">// é€šè¿‡è·¯ç”±è¡¨ç”Ÿæˆæ ‡å‡†æ ¼å¼è·¯ç”±</span></span><br><span class="line">            <span class="keyword">const</span> menuRoutes: any = fnAddDynamicMenuRoutes(</span><br><span class="line">              menu.menuList || [],</span><br><span class="line">              [],</span><br><span class="line">            )</span><br><span class="line">            mainRoutes.children = []</span><br><span class="line">            mainRoutes.children?.unshift(...menuRoutes, ...Routes)</span><br><span class="line">            <span class="comment">// åŠ¨æ€æ·»åŠ è·¯ç”±</span></span><br><span class="line">            router.addRoute(mainRoutes)</span><br><span class="line">            <span class="comment">// æ³¨ï¼šè¿™æ­¥å¾ˆå…³é”®ï¼Œä¸ç„¶å¯¼èˆªè·å–ä¸åˆ°è·¯ç”±</span></span><br><span class="line">            router.options.routes.unshift(mainRoutes)</span><br><span class="line">            <span class="comment">// æœ¬åœ°å­˜å‚¨æŒ‰é’®æƒé™é›†åˆ</span></span><br><span class="line">            sessionStorage.setItem(</span><br><span class="line">              <span class="string">&#x27;permissions&#x27;</span>,</span><br><span class="line">              <span class="built_in">JSON</span>.stringify(menu.permissions || <span class="string">&#x27;[]&#x27;</span>),</span><br><span class="line">            )</span><br><span class="line">            <span class="keyword">if</span> (to.path == <span class="string">&#x27;/&#x27;</span> || to.path == <span class="string">&#x27;/login&#x27;</span>) &#123;</span><br><span class="line">              <span class="keyword">const</span> firstName = menuRoutes.length &amp;&amp; menuRoutes[<span class="number">0</span>].name</span><br><span class="line">              next(&#123; <span class="attr">name</span>: firstName, <span class="attr">replace</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              next(&#123; <span class="attr">path</span>: to.fullPath &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            sessionStorage.setItem(<span class="string">&#x27;menuList&#x27;</span>, <span class="string">&#x27;[]&#x27;</span>)</span><br><span class="line">            sessionStorage.setItem(<span class="string">&#x27;permissions&#x27;</span>, <span class="string">&#x27;[]&#x27;</span>)</span><br><span class="line">            next()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(</span><br><span class="line">            <span class="string">`%c<span class="subst">$&#123;error&#125;</span> è¯·æ±‚èœå•åˆ—è¡¨å’Œæƒé™å¤±è´¥ï¼Œè·³è½¬è‡³ç™»å½•é¡µï¼ï¼`</span>,</span><br><span class="line">            <span class="string">&#x27;color:orange&#x27;</span>,</span><br><span class="line">          )</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (to.path == <span class="string">&#x27;/&#x27;</span> || to.path == <span class="string">&#x27;/login&#x27;</span>) &#123;</span><br><span class="line">          next(<span class="keyword">from</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          next()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      isAddDynamicMenuRoutes = <span class="literal">false</span></span><br><span class="line">      <span class="keyword">if</span> (to.name != <span class="string">&#x27;login&#x27;</span>) &#123;</span><br><span class="line">        next(&#123; <span class="attr">name</span>: <span class="string">&#x27;login&#x27;</span> &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      next()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="Layouts-å¸ƒå±€ç»„ä»¶"><a href="#Layouts-å¸ƒå±€ç»„ä»¶" class="headerlink" title="Layouts å¸ƒå±€ç»„ä»¶"></a>Layouts å¸ƒå±€ç»„ä»¶</h2><p>BlankLayout.tsx: ç©ºç™½å¸ƒå±€ï¼Œåªåšè·¯ç”±åˆ†å‘<br>RouteLayout.tsx: ä¸»ä½“å¸ƒå±€ï¼Œå†…å®¹æ˜¾ç¤ºéƒ¨åˆ†ï¼ŒåŒ…å«é¢åŒ…å±‘<br>LevelBasicLayout.tsx å¤šçº§å±•ç¤ºå¸ƒå±€ï¼Œé€‚ç”¨äº 2 çº§ä»¥ä¸Šè·¯ç”±<br>SimplifyBasicLayout.tsx ç®€åŒ–ç‰ˆå¤šçº§å±•ç¤ºå¸ƒå±€ï¼Œé€‚ç”¨äº 2 çº§ä»¥ä¸Šè·¯ç”±</p>
<h2 id="ç›¸å…³å‚è€ƒé“¾æ¥"><a href="#ç›¸å…³å‚è€ƒé“¾æ¥" class="headerlink" title="ç›¸å…³å‚è€ƒé“¾æ¥"></a>ç›¸å…³å‚è€ƒé“¾æ¥</h2><p><a href="https://pinia.vuejs.org/">Pinia å®˜ç½‘</a><br><a href="https://v3.cn.vuejs.org/guide/introduction.html">Vue3 å®˜ç½‘</a><br><a href="https://vitejs.cn/">Vite</a><br><a href="https://2x.antdv.com/components/overview-cn/">Antd Design Vue</a></p>
]]></content>
  </entry>
  <entry>
    <title>å¦‚ä½•ä¿®æ”¹ç”µè„‘user/ ä¸­æ–‡åç§°</title>
    <url>/2021/08/06/workName/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><pre><code>å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šæœ‰éƒ¨åˆ†äººçš„ç”µè„‘çš„c:/User/æ˜¯ä¸­æ–‡åç§°ï¼Œå¯¹äºä¸€åç¨‹åºå‘˜æ¥è¯´ï¼Œä¸­æ–‡åçš„è·¯å¾„ï¼Œç»å¸¸ä¼šå‡ºç°æƒé™ç­‰é—®é¢˜
psï¼šè¿™ä¸ªå›¾ï¼Œæˆ‘åªæ˜¯æ€€å¿µ å°å­¦çš„win98 æ¡Œé¢
</code></pre>
<h2 id="âœ¨-å¦‚ä½•è§£å†³å‘¢"><a href="#âœ¨-å¦‚ä½•è§£å†³å‘¢" class="headerlink" title="âœ¨ å¦‚ä½•è§£å†³å‘¢"></a>âœ¨ å¦‚ä½•è§£å†³å‘¢</h2><ul>
<li>æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼Œç›´æ¥è¾“å…¥ regedit æ‰“å¼€æ³¨å†Œè¡¨</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/1628217796.jpg" alt="Alt text"></p>
<ul>
<li>åœ¨æ³¨å†Œè¡¨ç¼–è¾‘å™¨ä¸­å®šä½åˆ°ä»¥ä¸‹è·¯å¾„ï¼š HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileList</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/1628217893.jpg" alt="Alt text"></p>
<ul>
<li>åœ¨å…¶ä¸­çš„å‡ ä¸ªæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ° å¦‚ä¸‹ ä¿¡æ¯</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/1628217956.jpg" alt="Alt text"></p>
<ul>
<li>å³é”®ï¼Œé€‰æ‹© ä¿®æ”¹ï¼Œæˆ‘è¿™é‡Œæ”¹ä¸º abc</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/1628218107.jpg" alt="Alt text"></p>
<ul>
<li>ä¿®æ”¹å®Œæ¯•åï¼Œé‡å¯ç”µè„‘</li>
</ul>
<p>later 1000 years ~</p>
<ul>
<li><p>å¼€æœºåï¼Œé€‰æ‹© c:/User/ä¸­æ–‡å æ”¹ä¸º  c:/user/abc  å…¶ä»–æç¤ºä¸ç”¨ç®¡ï¼Œç›´æ¥ç¡®å®š</p>
</li>
<li><p>ç¡®å®šåï¼Œå…³é—­çª—å£ é‡å¯ç”µè„‘ï¼Œå³å¯å®Œæˆä¸­æ–‡åç§°æ›´æ”¹abc ~  äº²æµ‹æœ‰æ•ˆã€‚</p>
</li>
</ul>
<h3 id="æ„Ÿæ¿€"><a href="#æ„Ÿæ¿€" class="headerlink" title="æ„Ÿæ¿€"></a>æ„Ÿæ¿€</h3>]]></content>
  </entry>
  <entry>
    <title>è‡ªåŠ¨ä¿®å¤eslintæŠ¥é”™</title>
    <url>/2021/10/25/%E8%87%AA%E5%8A%A8%E4%BF%AE%E5%A4%8Deslint%E6%8A%A5%E9%94%99/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="âœ¨-vsCodeä½¿ç”¨è¿‡ç¨‹ä¸­çš„å¸¸è§é—®é¢˜"><a href="#âœ¨-vsCodeä½¿ç”¨è¿‡ç¨‹ä¸­çš„å¸¸è§é—®é¢˜" class="headerlink" title="âœ¨ vsCodeä½¿ç”¨è¿‡ç¨‹ä¸­çš„å¸¸è§é—®é¢˜"></a>âœ¨ vsCodeä½¿ç”¨è¿‡ç¨‹ä¸­çš„å¸¸è§é—®é¢˜</h2><pre><code>ä½œä¸ºä¸€åå‰ç«¯ç¨‹åºå‘˜ï¼ŒvsCodeæƒ³å¿…æ˜¯æ¯”è¾ƒå—æ¬¢è¿çš„ä½¿ç”¨å·¥å…·ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­è€å¸ˆå‡ºç°çº¢è‰²çš„ ~~~~ æç¤ºä»£ç å­˜åœ¨è§„èŒƒé”™è¯¯ï¼
ä½œä¸ºæœ‰å¼ºè¿«ç—‡çš„æˆ‘ï¼ŒçœŸçš„çœ‹åˆ°å°±æ˜¯ä¸å¼€å¿ƒ~
</code></pre>
<h3 id="1-å®‰è£…æ’ä»¶"><a href="#1-å®‰è£…æ’ä»¶" class="headerlink" title="1.å®‰è£…æ’ä»¶"></a>1.å®‰è£…æ’ä»¶</h3><pre><code><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">npm i -g eslint-plugin-vue</span><br></pre></td></tr></table></figure>
</code></pre>
<h3 id="2-ä¿®æ”¹é¡¹ç›®è·Ÿè·¯å¾„ä¸‹çš„æ–‡ä»¶-eslintrc-eslint-js"><a href="#2-ä¿®æ”¹é¡¹ç›®è·Ÿè·¯å¾„ä¸‹çš„æ–‡ä»¶-eslintrc-eslint-js" class="headerlink" title="2.ä¿®æ”¹é¡¹ç›®è·Ÿè·¯å¾„ä¸‹çš„æ–‡ä»¶ .eslintrc | .eslint.js"></a>2.ä¿®æ”¹é¡¹ç›®è·Ÿè·¯å¾„ä¸‹çš„æ–‡ä»¶ .eslintrc | .eslint.js</h3><p><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/eslint.png" alt="Alt text"></p>
<h3 id="3-æ·»åŠ eslint-å’Œ-vetur-æ’ä»¶"><a href="#3-æ·»åŠ eslint-å’Œ-vetur-æ’ä»¶" class="headerlink" title="3.æ·»åŠ eslint å’Œ vetur æ’ä»¶"></a>3.æ·»åŠ eslint å’Œ vetur æ’ä»¶</h3><p><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/eslint2.png" alt="Alt text"><br><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/eslint3.png" alt="Alt text"></p>
<h3 id="4-ä¿®æ”¹vscodeé¦–é€‰é¡¹é…ç½®"><a href="#4-ä¿®æ”¹vscodeé¦–é€‰é¡¹é…ç½®" class="headerlink" title="4.ä¿®æ”¹vscodeé¦–é€‰é¡¹é…ç½®"></a>4.ä¿®æ”¹vscodeé¦–é€‰é¡¹é…ç½®</h3><pre><code><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;eslint.autoFixOnSave&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">&quot;eslint.validate&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;javascript&quot;</span>,&#123;</span><br><span class="line">        <span class="string">&quot;language&quot;</span>: <span class="string">&quot;vue&quot;</span>,</span><br><span class="line">        <span class="string">&quot;autoFix&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,<span class="string">&quot;html&quot;</span>,</span><br><span class="line">    <span class="string">&quot;vue&quot;</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>
</code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/eslint4.png" alt="Alt text"></p>
]]></content>
  </entry>
  <entry>
    <title>å¤©è¡Œä¹æ­Œç»å…¸å½•è¯­</title>
    <url>/2021/07/14/%E5%A4%A9%E8%A1%8C%E4%B9%9D%E6%AD%8C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>å¤©è¡Œä¹æ­Œè®²çš„æ˜¯ç§¦æ—¶æ˜æœˆä¹‹å‰çš„æ•…äº‹ï¼Œä»¥ä¸ƒå›½äº‰éœ¸ä¸ºèƒŒæ™¯ï¼Œä»¥éŸ©å›½ä¹å…¬å­éŸ©éä½œä¸ºä¸»äººå…¬ï¼Œè®²è¿°äº†ä»–ä¸å«åº„ç­‰äººçš„éŸ©å›½å¥‹æ–—å²ã€‚ç”·ä¸»éŸ©éä¸ä»…æ˜¯åŠ¨æ¼«ä¸­çš„å…³é”®äººç‰©ï¼Œæ›´æ˜¯æ³•å®¶çš„é›†å¤§æˆè€…ï¼Œä½œä¸ºè¯¸å­ç™¾å®¶ä¸­çš„ä¸€ä½å¤§ä½¬è‡ªç„¶ä¹Ÿç•™ä¸‹æ¥è®¸å¤šå½±å“æ·±è¿œçš„è¯­å½•ï¼Œä»Šå¤©æˆ‘ä»¬ä¾¿æ¥ç›˜ç‚¹ä¸€ä¸‹ï¼Œä»–è¯´è¿‡äº†é‚£äº›è®©äººéœ‡æƒŠçš„è¯è¯­ã€‚</p>
<h2 id="âœ¨-å¤©è¡Œä¹æ­Œ"><a href="#âœ¨-å¤©è¡Œä¹æ­Œ" class="headerlink" title="âœ¨ å¤©è¡Œä¹æ­Œ"></a>âœ¨ å¤©è¡Œä¹æ­Œ</h2><ul>
<li><p>è¿™ä¸–ä¸Šçš„äº‹æƒ…ï¼Œæœ‰çš„æ—¶å€™çœ‹ä¼¼æœ‰åˆ©å®åˆ™æ— åˆ©ï¼Œçœ‹ä¼¼åŠ£åŠ¿å´æ˜¯ä¼˜åŠ¿ã€‚</p>
</li>
<li><p>ä¸ƒå›½çš„å¤©ä¸‹ æˆ‘è¦ä¹åä¹ã€‚</p>
</li>
<li><p>æƒ³è§ æˆ–æ˜¯ä¸æƒ³è§çš„äººï¼Œç»ˆäº è¿˜æ˜¯è¦å†è§é¢äº†ã€‚</p>
</li>
<li><p>æœ‰å½¢çš„ç”Ÿå‘½ï¼Œçš„ç¡®éå¸¸è„†å¼±ï¼Œä½†æ˜¯æ— å½¢çš„åŠ›é‡å°±ä¼šåšä¸å¯ç ´ï¼Œæˆ‘ç»™è¿™ä¸ªæ— å½¢çš„åŠ›é‡å–äº†ä¸€ä¸ªåå­—ï¼Œå«æµæ²™ã€‚</p>
</li>
<li><p>æ°´é¢çš„æ¶Ÿæ¼ªè™½ç„¶æš‚æ—¶æ¶ˆå¤±äº†ï¼Œä½†ä»ä¼šæœ‰äººè®°å¾—ï¼Œé£æ›¾ç»å¹è¿‡ã€‚</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/day_01.gif" alt="Alt text"></p>
<h3 id="è™½ä¸‡åƒäººï¼Œå¾å¾€çŸ£"><a href="#è™½ä¸‡åƒäººï¼Œå¾å¾€çŸ£" class="headerlink" title="è™½ä¸‡åƒäººï¼Œå¾å¾€çŸ£"></a>è™½ä¸‡åƒäººï¼Œå¾å¾€çŸ£</h3><ul>
<li>ä»¥ä¸ƒå›½ä¸ºé”‹ï¼Œå±±æµ·ä¸ºé”·ï¼Œåˆ¶ä»¥äº”è¡Œï¼Œå¼€ä»¥é˜´é˜³ï¼ŒæŒä»¥æ˜¥å¤ï¼Œè¡Œä»¥ç§‹å†¬ï¼Œä¸¾ä¸–æ— åŒï¼Œå¤©ä¸‹å½’æœï¼Œæ­¤ä¸ºå¤©å­ä¹‹å‰‘ï¼</li>
</ul>
<h3 id="éŸ©éä¸ç§¦ç‹å¯¹ç™½"><a href="#éŸ©éä¸ç§¦ç‹å¯¹ç™½" class="headerlink" title="éŸ©éä¸ç§¦ç‹å¯¹ç™½"></a>éŸ©éä¸ç§¦ç‹å¯¹ç™½</h3><ul>
<li><p>åå¹´å¯è§æ˜¥å»ç§‹æ¥ï¼Œç™¾å¹´å¯è¯ç”Ÿè€ç—…æ­»ï¼›åƒå¹´å¯å¹ç‹æœæ›´æ›¿ï¼Œä¸‡å¹´å¯è§æ–—è½¬æ˜Ÿç§»ï¼›å‡¡äººå¦‚æœç”¨ä¸€å¤©çš„è§†é‡ï¼Œå»çª¥æ¢ç™¾ä¸‡å¹´çš„å¤©åœ°ï¼Œæ˜¯å¦å°±å¦‚åŒäº•åº•ä¹‹è›™ã€‚</p>
</li>
<li><p>æœ‰äº›äººæ²¡æœ‰è§è¿‡æ±ªæ´‹ï¼Œä»¥ä¸ºæ±Ÿæ²³æœ€ä¸ºå£®ç¾ï¼›è€Œæœ‰äº›äººï¼Œé€šè¿‡ä¸€ç‰‡è½å¶ï¼Œå´èƒ½çœ‹åˆ°æ•´ä¸ªç§‹å¤©ã€‚</p>
</li>
<li><p>è¡Œä¸‡é‡Œè·¯ï¼Œæ‰èƒ½è§å¤©åœ°ä¹‹å¹¿é˜”ã€‚æˆ‘æ›¾ç»æµæµªÂ·Â·Â·Â·Â·Â·</p>
</li>
<li><p>å¿ƒï¼Œå¦‚æœåœ¨æ·±äº•ï¼Œçœ¼ä¸­çš„å¤©ç©ºå°±ä¼šå˜å°ã€‚</p>
</li>
<li><p>æ­»äº¡å¹¶ä¸å¯æ€•ï¼Œå°¤å…¶å¯¹ä¸€ä¸ªæ­»è¿‡ä¸€æ¬¡çš„äººæ¥è¯´ï¼Œæ¯ä¸ªäººéƒ½ä¼šæ­»ï¼Œä¸æ˜¯å—ï¼Ÿ</p>
</li>
<li><p>é«˜å±±å˜æˆæ·±è°·ï¼Œæ²§æµ·åŒ–ä¸ºæ¡‘ç”°ï¼Œå¤å†¬çš„æ¯è£ï¼Œå›½å®¶çš„å…´è¡°ï¼Œäººçš„ç”Ÿæ­»ï¼ŒçœŸçš„æ˜¯ç¥ç§˜è«æµ‹ã€‚</p>
</li>
<li><p>è¿™ç§åŠ›é‡ï¼Œå°±åœ¨èº«è¾¹ï¼Œå……ç›ˆäº†æ•´ä¸ªå¤©åœ°ã€‚å½“é™ä¸‹å¿ƒæ¥è†å¬æ—¶ï¼Œå®ƒå°±åƒæ˜¯ä¸€é¦–æ­ŒÂ·Â·Â·Â·Â·Â·ä½ ï¼Œå¬åˆ°äº†å—ï¼Ÿ</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/LQing2018/LQing2018.github.io@master/img/day_02.jpg" alt="Alt text"></p>
<h3 id="å‰‘åˆ†ä¸‰ç­‰-åº¶äººä¹‹å‰‘ã€è¯¸ä¾¯ä¹‹å‰‘ã€å¤©å­ä¹‹å‰‘"><a href="#å‰‘åˆ†ä¸‰ç­‰-åº¶äººä¹‹å‰‘ã€è¯¸ä¾¯ä¹‹å‰‘ã€å¤©å­ä¹‹å‰‘" class="headerlink" title="å‰‘åˆ†ä¸‰ç­‰:åº¶äººä¹‹å‰‘ã€è¯¸ä¾¯ä¹‹å‰‘ã€å¤©å­ä¹‹å‰‘"></a>å‰‘åˆ†ä¸‰ç­‰:åº¶äººä¹‹å‰‘ã€è¯¸ä¾¯ä¹‹å‰‘ã€å¤©å­ä¹‹å‰‘</h3><ul>
<li><p>â€œè¡Œå‡¶æ–—ç‹ ï¼Œæ‹›æ‘‡è¿‡å¸‚â€ä¸ºåº¶äººä¹‹å‰‘ï¼›</p>
</li>
<li><p>â€œä»¥å‹‡æ­¦ä¸ºé”‹ï¼Œæ¸…å»‰ä¸ºé”·ï¼Œè´¤è‰¯ä¸ºè„Šï¼Œå¿ åœ£ä¸ºé“—â€ä¸ºè¯¸ä¾¯ä¹‹å‰‘ï¼›</p>
</li>
<li><p>â€œä»¥ä¸ƒå›½ä¸ºé”‹ï¼Œå±±æµ·ä¸ºé”·ï¼Œåˆ¶ä»¥äº”è¡Œï¼Œå¼€ä»¥é˜´é˜³ï¼ŒæŒä»¥æ˜¥å¤ï¼Œè¡Œä»¥ç§‹å†¬ï¼Œä¸¾ä¸–æ— åŒï¼Œå¤©ä¸‹å½’æœâ€ä¸ºå¤©å­ä¹‹å‰‘ã€‚</p>
</li>
<li><p>ç™¾å®¶å­¦è¯´ï¼Œäº¦æœ‰åˆ†é‡ï¼Œå¦‚åŒé¬¼è°·ç»å­¦ï¼Œåˆ†ä¸ºçºµä¸æ¨ªã€‚å„’ï¼Œåˆ†ä¸ºè…å„’å’Œç‹å„’ï¼›ä¾ ï¼Œä¹Ÿæœ‰å‡¶ä¾ ä¸ä¹‰ä¾ ã€‚</p>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>vue3 å®è·µ</title>
    <url>/2021/07/12/vue3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="âœ¨-å®˜ç½‘åœ°å€"><a href="#âœ¨-å®˜ç½‘åœ°å€" class="headerlink" title="âœ¨ å®˜ç½‘åœ°å€"></a>âœ¨ å®˜ç½‘åœ°å€</h2><p>å®˜ç½‘æ–‡æ¡£ï¼š<a href="https://v3.cn.vuejs.org/">https://v3.cn.vuejs.org/</a></p>
<h2 id="ä¸€ã€vue3å®‰è£…ä¸é¡¹ç›®åˆ›å»ºã€æŒæ¡ã€‘"><a href="#ä¸€ã€vue3å®‰è£…ä¸é¡¹ç›®åˆ›å»ºã€æŒæ¡ã€‘" class="headerlink" title="ä¸€ã€vue3å®‰è£…ä¸é¡¹ç›®åˆ›å»ºã€æŒæ¡ã€‘"></a>ä¸€ã€vue3å®‰è£…ä¸é¡¹ç›®åˆ›å»ºã€æŒæ¡ã€‘</h2><p>å‚è€ƒåœ°å€ï¼š<a href="https://www.vue3js.cn/docs/zh/guide/installation.html">https://www.vue3js.cn/docs/zh/guide/installation.html</a></p>
<h3 id="å‡†å¤‡å·¥ä½œï¼šå‡çº§è„šæ‰‹æ¶"><a href="#å‡†å¤‡å·¥ä½œï¼šå‡çº§è„šæ‰‹æ¶" class="headerlink" title="å‡†å¤‡å·¥ä½œï¼šå‡çº§è„šæ‰‹æ¶"></a>å‡†å¤‡å·¥ä½œï¼šå‡çº§è„šæ‰‹æ¶</h3><p>å¯¹äº Vue 3ï¼Œä½ åº”è¯¥ä½¿ç”¨ <code>npm</code> ä¸Šå¯ç”¨çš„ Vue CLI v4.5 ä½œä¸º <code>@vue/cli@next</code>ã€‚è¦å‡çº§ï¼Œä½ åº”è¯¥éœ€è¦å…¨å±€é‡æ–°å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ <code>@vue/cli</code>ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yarn global add @vue/cli@next</span><br><span class="line"><span class="meta">#</span><span class="bash"> OR</span></span><br><span class="line">npm install -g @vue/cli@next</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ Vue é¡¹ç›®è¿è¡Œï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vue upgrade --next</span><br></pre></td></tr></table></figure>

<h3 id="æ–¹å¼1ï¼šä»¥åŸæœ‰vueCliè„šæ‰‹æ¶åˆ›å»º"><a href="#æ–¹å¼1ï¼šä»¥åŸæœ‰vueCliè„šæ‰‹æ¶åˆ›å»º" class="headerlink" title="æ–¹å¼1ï¼šä»¥åŸæœ‰vueCliè„šæ‰‹æ¶åˆ›å»º"></a>æ–¹å¼1ï¼šä»¥åŸæœ‰vueCliè„šæ‰‹æ¶åˆ›å»º</h3><p>åˆ›å»ºé¡¹ç›®ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vue create demo</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥é€‰æ‹© <code>Vue 3 Preview</code> ï¼Œå¹¶å›è½¦ï¼Œä¸è€ƒè™‘eslinté—®é¢˜ã€‚</p>
<img src="https://i.loli.net/2021/02/03/cxOksAVuJhP1eLN.png" style="border: 2px solid darkred">

<p>ç„¶åæ‰§è¡Œï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> demo</span><br><span class="line"><span class="comment"># ç”¨vscodeæ‰“å¼€å½“å‰ç›®å½•</span></span><br><span class="line">code .</span><br><span class="line"><span class="comment"># è¿è¡Œé¡¹ç›®</span></span><br><span class="line">yarn serve</span><br></pre></td></tr></table></figure>

<h3 id="æ–¹å¼2ï¼šviteåˆ›å»º"><a href="#æ–¹å¼2ï¼šviteåˆ›å»º" class="headerlink" title="æ–¹å¼2ï¼šviteåˆ›å»º"></a>æ–¹å¼2ï¼šviteåˆ›å»º</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm init vite-app demo</span><br><span class="line"><span class="meta">#</span><span class="bash"> ç›¸å½“äº</span></span><br><span class="line">npx create-vite-app demo</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…åæ‰§è¡Œ</span></span><br><span class="line">npm install</span><br><span class="line"><span class="meta">#</span><span class="bash"> or</span></span><br><span class="line">yarn</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿è¡Œé¡¹ç›®</span></span><br><span class="line">npm run dev</span><br><span class="line"><span class="meta">#</span><span class="bash"> or</span></span><br><span class="line">yarn dev</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºé¡¹ç›®å¹¶è¿è¡Œï¼Œä¼šå‘ç°æˆ‘ä»¬ <code>npm run dev</code> åæ˜¯ç§’å¼€é¡¹ç›®çš„ï¼Œè¿è¡Œé€Ÿåº¦æå¿«ã€‚</p>
<h2 id="äºŒã€Composition-APIï¼ˆç»„åˆå¼APIï¼‰ã€æŒæ¡ã€‘"><a href="#äºŒã€Composition-APIï¼ˆç»„åˆå¼APIï¼‰ã€æŒæ¡ã€‘" class="headerlink" title="äºŒã€Composition APIï¼ˆç»„åˆå¼APIï¼‰ã€æŒæ¡ã€‘"></a>äºŒã€Composition APIï¼ˆç»„åˆå¼APIï¼‰ã€æŒæ¡ã€‘</h2><blockquote>
<p>ç›¸å½“äº React Hooks</p>
</blockquote>
<p>æˆ‘ä»¬å…ˆä½¿ç”¨ä»¥å‰vue2çš„æ–¹å¼å®ç°ä¸€ä¸ªç´¯åŠ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;count&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;btnClick&quot;&gt;ç´¯åŠ &lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            count: 0</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        btnClick()&#123;</span><br><span class="line">            this.count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™å¥—ä»£ç å¯ä»¥å®ç°ä¸€ä¸ªç´¯åŠ çš„æ•ˆæœï¼Œä½†å¦‚æœä»¥åæˆ‘ä»¬æƒ³æŠŠè¿™ä¸ªç»„ä»¶ä¸­çš„ <code>count</code> å­—æ®µä¸ <code>btnClick</code> å•ç‹¬æ‹å‡ºæ¥ç®¡ç†ï¼Œé‚£å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œå› ä¸º <code>count</code> å’Œ <code>btnClick</code> ä¸åœ¨åŒä¸€ä¸ªæ–¹æ³•å†…ï¼Œå¾ˆéš¾æŠ½ç¦»ã€‚</p>
<h3 id="1ã€setup"><a href="#1ã€setup" class="headerlink" title="1ã€setup"></a>1ã€setup</h3><p>setupæœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<blockquote>
<p>1ã€setupå‡½æ•°æ˜¯å¤„äº ç”Ÿå‘½å‘¨æœŸå‡½æ•° beforeCreate å’Œ Created ä¸¤ä¸ªé’©å­å‡½æ•°ä¹‹é—´çš„å‡½æ•° ä¹Ÿå°±è¯´åœ¨ setupå‡½æ•°ä¸­æ˜¯æ— æ³• ä½¿ç”¨ data å’Œ methods ä¸­çš„æ•°æ®å’Œæ–¹æ³•çš„</p>
<p>2ã€setupå‡½æ•°æ˜¯ Composition APIï¼ˆç»„åˆAPIï¼‰çš„å…¥å£</p>
<p>3ã€åœ¨setupå‡½æ•°ä¸­å®šä¹‰çš„å˜é‡å’Œæ–¹æ³•æœ€åéƒ½æ˜¯éœ€è¦ return å‡ºå»çš„ ä¸ç„¶æ— æ³•å†æ¨¡æ¿ä¸­ä½¿ç”¨</p>
<p>4ã€ç”±äºæˆ‘ä»¬ä¸èƒ½åœ¨ setupå‡½æ•°ä¸­ä½¿ç”¨ data å’Œ methodsï¼Œæ‰€ä»¥Vue ä¸ºäº†é¿å…æˆ‘ä»¬é”™è¯¯çš„ä½¿ç”¨ï¼Œç›´æ¥å°† setupå‡½æ•°ä¸­çš„thisä¿®æ”¹æˆäº† undefined</p>
<p>5ã€setupå‡½æ•°åªèƒ½æ˜¯åŒæ­¥çš„ä¸èƒ½æ˜¯å¼‚æ­¥çš„</p>
</blockquote>
<h3 id="2ã€API-ref"><a href="#2ã€API-ref" class="headerlink" title="2ã€API - ref"></a>2ã€API - ref</h3><p>æˆ‘ä»¬å…ˆæ¥ä½“éªŒä¸€ä¸‹vue3æ€ä¹ˆå¤„ç†è¿™ä¸ªç´¯åŠ æ•ˆæœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;count&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;btnClick&quot;&gt;ç´¯åŠ &lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            count: 0</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    setup()&#123;</span><br><span class="line">        const count = ref(1);	// æ­¤æ—¶æˆ‘ä»¬ä½¿ç”¨refæŒ‡å®šcountçš„é»˜è®¤å€¼ä¸º1ï¼Œå› æ­¤ä¸Šé¢dataä¸­çš„countä¼šå¤±æ•ˆ</span><br><span class="line">        let btnClick = () =&gt; &#123;</span><br><span class="line">            count.value++;		// ä¿®æ”¹refä¸­çš„å€¼è¦ç”¨xxx.value</span><br><span class="line">        &#125;</span><br><span class="line">        return &#123;count, btnClick&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶å¦‚æœæˆ‘æƒ³å•ç‹¬ç®¡ç†è¿™ä¸ªç´¯åŠ æ•ˆæœï¼Œæˆ‘å°±å¯ä»¥è¿™ä¹ˆæ“ä½œï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>ç´¯åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">// count: 0		// ä¸€æ—¦æŠŠsetupä¸­çš„ä»£ç æŠ½ç¦»ï¼Œreturnä¸­å¯¹åº”çš„å€¼è¦å»æ‰ï¼Œå¦åˆ™refæ— æ•ˆ</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      	<span class="comment">// å‡½æ•°è°ƒç”¨åå°±ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤æˆ‘ä»¬ç›´æ¥return</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">return</span> clickCountFn()</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      	<span class="comment">// å¦‚æœåæœŸè¿˜æƒ³åŒæ—¶è¿”å›å…¶ä»–æ•°æ®ï¼Œå¯ä»¥å°†clickCountFn()çš„è¿”å›ç»“æœå±•å¼€</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">      	<span class="comment">// return &#123;...clickCountFn(), å…¶ä»–æ•°æ®&#125;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">&#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="comment">// å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·è¿™å—åŠŸèƒ½æˆ‘ä»¬å°±èƒ½å•ç‹¬ç®¡ç†äº†</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="function"><span class="keyword">function</span> <span class="title">clickCountFn</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> count = ref(<span class="number">1</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">let</span> btnClick = <span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        count.value++;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">return</span> &#123;count, btnClick&#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">&#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="3ã€API-reactive"><a href="#3ã€API-reactive" class="headerlink" title="3ã€API - reactive"></a>3ã€API - reactive</h3><p>å†æ¥äº†è§£å¦ä¸€ä¸ªAPI ï¼š</p>
<blockquote>
<p>reactiveå‡½æ•°å’Œrefä½œç”¨éå¸¸æ¥è¿‘ï¼Œä½†æ˜¯å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¯¹è±¡ä¸­å®šä¹‰å…¶æ–¹æ³•ï¼Œè€Œé€šè¿‡è¿™ä¸ªå½¢å¼ï¼Œå°±ä¸éœ€è¦å†å¯¹å…¶è¿›è¡Œè¿›è¡Œ <code>.value</code> è°ƒç”¨äº†ã€‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;count&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;btnClick&quot;&gt;ç´¯åŠ &lt;/button&gt;</span><br><span class="line">  &lt;p&gt;å§“åï¼š&#123;&#123;obj.username&#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;button @click=&quot;btnClick1&quot;&gt;ä¿®æ”¹å§“å&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref, reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    setup()&#123;</span><br><span class="line">      	// ä½¿ç”¨reactive</span><br><span class="line">        let obj = reactive(&#123;</span><br><span class="line">            username: &quot;Jack&quot;</span><br><span class="line">        &#125;)</span><br><span class="line">        let btnClick1 = () =&gt; &#123;</span><br><span class="line">            obj.username = &quot;Mary&quot;</span><br><span class="line">        &#125;</span><br><span class="line">				return &#123;...clickCountFn(), obj, btnClick1&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function clickCountFn()&#123;</span><br><span class="line">    const count = ref(1);</span><br><span class="line">    let btnClick = () =&gt; &#123;</span><br><span class="line">        count.value++;</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;count, btnClick&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>reactive</code> ç”Ÿæˆçš„å¯¹è±¡ä¸ <code>ref</code> ç”Ÿæˆçš„å€¼éƒ½æ˜¯å“åº”å¼çš„ã€‚</p>
<p>è¿™é‡Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨ html ä¸­è°ƒç”¨æ•°æ®æ—¶ï¼Œä½¿ç”¨çš„æ˜¯ <code>obj.username</code> ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥ç›´æ¥å†™ <code>username</code> å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œä½†è¿™é‡Œéœ€è¦æ³¨æ„ï¼š</p>
<blockquote>
<p>ç”±äºreactiveè¿”å›çš„å¯¹è±¡æœ¬è´¨ä¸Šå·²ç»æ˜¯ä¸€ä¸ªProxyå¯¹è±¡ï¼Œæ‰€ä»¥é€šè¿‡â€¦æ‰©å±•ç¬¦å·å±•å¼€çš„å±æ€§ï¼Œæ˜¯æ— æ³•è¿›è¡Œå“åº”å¼çš„</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span> &#123;...clickCountFn(), ...obj, btnClick1&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆæ˜¯æ— æ³•å®ç°çš„ã€‚</p>
<h3 id="4ã€API-toRefs"><a href="#4ã€API-toRefs" class="headerlink" title="4ã€API - toRefs"></a>4ã€API - toRefs</h3><p>æ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;count&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;btnClick&quot;&gt;ç´¯åŠ &lt;/button&gt;</span><br><span class="line">	&lt;!-- æ— éœ€obj.usernameï¼Œç›´æ¥usernameå³å¯ --&gt;</span><br><span class="line">  &lt;p&gt;å§“åï¼š&#123;&#123;username&#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;button @click=&quot;btnClick1&quot;&gt;ä¿®æ”¹å§“å&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// æ–°å¢toRefsæ–¹æ³•</span><br><span class="line">import &#123;ref, reactive, toRefs&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    setup()&#123;</span><br><span class="line">        let obj = reactive(&#123;</span><br><span class="line">            username: &quot;Jack&quot;</span><br><span class="line">        &#125;)</span><br><span class="line">        let btnClick1 = () =&gt; &#123;</span><br><span class="line">            obj.username = &quot;Mary&quot;</span><br><span class="line">        &#125;</span><br><span class="line">        // é€šè¿‡toRefsæ–¹æ³•</span><br><span class="line">        let refObj = toRefs(obj);</span><br><span class="line">      	// é€šè¿‡...refObjå°†æ•°æ®æ‰©å±•</span><br><span class="line">        return &#123;...clickCountFn(), ...refObj, btnClick1&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å…¶ä»–ä»£ç ...</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="ä¸‰ã€Provideä¸Injectï¼ˆæä¾›-æ³¨å…¥ï¼‰ã€æŒæ¡ã€‘"><a href="#ä¸‰ã€Provideä¸Injectï¼ˆæä¾›-æ³¨å…¥ï¼‰ã€æŒæ¡ã€‘" class="headerlink" title="ä¸‰ã€Provideä¸Injectï¼ˆæä¾›/æ³¨å…¥ï¼‰ã€æŒæ¡ã€‘"></a>ä¸‰ã€Provideä¸Injectï¼ˆæä¾›/æ³¨å…¥ï¼‰ã€æŒæ¡ã€‘</h2><h3 id="1ã€Vue2å†™æ³•"><a href="#1ã€Vue2å†™æ³•" class="headerlink" title="1ã€Vue2å†™æ³•"></a>1ã€Vue2å†™æ³•</h3><p>ä»¥å¾€æˆ‘ä»¬çš„çˆ¶ä¼ å­æ˜¯é€šè¿‡propsä¼ çš„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- Father.vueçˆ¶ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Child :num=&quot;num&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Child from &#x27;./Child.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            num: 123</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">        Child</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Child.vueå­ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼ï¼š&#123;&#123;num&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    props: [&#x27;num&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ—¶å€™é™åˆ¶æ­»äº†æ•°æ®å¿…é¡»æ¥è‡ªçˆ¶ç»„ä»¶ï¼Œæˆ‘ä»¬å…¶å®è¿˜æœ‰ <code>Provide</code> å’Œ <code>Inject</code> ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- Father.vueçˆ¶ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Child /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Child from &#x27;./Child.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">        Child</span><br><span class="line">    &#125;,</span><br><span class="line">    provide: &#123;</span><br><span class="line">        num: 456</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Child.vueå­ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼ï¼š&#123;&#123;num&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    inject: [&#x27;num&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><code>Provide/Inject</code> ç›¸æ¯”äº <code>props</code> çš„å¥½å¤„åœ¨äºï¼š</p>
<p>å¦‚æœç»„ä»¶åµŒå¥—è¾ƒå¤šï¼Œé‚£ä¹ˆ <code>props</code> éœ€è¦ä¸€çº§ä¸€çº§å¾€ä¸‹ä¼ é€’ï¼ŒåæœŸå¾ˆéš¾ç»´æŠ¤ã€‚<code>Provide+Inject</code> ç›¸å½“äºæ˜¯è·¨çº§ç»„ä»¶ä¼ å€¼ï¼Œæ¯”å¦‚å­™å­ç»„ä»¶ä¹Ÿæƒ³ç”¨ä¸Šé¢è¿™ä¸ª <code>num</code> çš„å€¼ï¼Œå°±ä¸ç”¨ä¸€çº§ä¸€çº§å¾€ä¸‹ä¼ ï¼Œç›´æ¥åœ¨å­™å­ç»„ä»¶ä½¿ç”¨å³å¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- Sun.vueå­™å­ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h4&gt;å­™å­ç»„ä»¶ï¼š&#123;&#123;num&#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">	  // å°†Sunç»„ä»¶åœ¨Childç»„ä»¶ä¸­å¼•å…¥ï¼Œå³å¯å®ç°è·¨çº§ç»„ä»¶ä¼ å€¼</span><br><span class="line">    inject: [&#x27;num&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2ã€Vue3å†™æ³•"><a href="#2ã€Vue3å†™æ³•" class="headerlink" title="2ã€Vue3å†™æ³•"></a>2ã€Vue3å†™æ³•</h3><p>vue3ä¸­çš„ <code>provide/inject</code>ã€‚ä¸¤è€…éƒ½åªèƒ½åœ¨å½“å‰æ´»åŠ¨å®ä¾‹çš„ <code>setup()</code> æœŸé—´è°ƒç”¨ã€‚</p>
<p>æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// provide</span></span><br><span class="line"><span class="keyword">import</span> &#123;provide&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span> <span class="comment">// æ˜¾å¼å¯¼å…¥</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// æ­¤å¤„nameå¿…é¡»æ˜¯Stringç±»å‹ï¼Œvalueåˆ™ä¸é™åˆ¶</span></span><br><span class="line">    provide(name, value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// inject</span></span><br><span class="line"><span class="keyword">import</span> &#123;inject&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span> <span class="comment">// æ˜¾å¼å¯¼å…¥</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      	<span class="comment">// nameå³ä¸ºä¼ è¿‡æ¥çš„å­—æ®µï¼Œç¬¬äºŒä¸ªå‚æ•°å¯é€‰ï¼Œå¯å¡«å†™é»˜è®¤å€¼</span></span><br><span class="line">        <span class="keyword">const</span> val = inject(name, defaultValue);</span><br><span class="line">      	<span class="keyword">return</span> &#123;val&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¿®æ”¹ä»¥ä¸Šæ¡ˆä¾‹çš„ä»£ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- Father.vueçˆ¶ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Child /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;provide&#125; from &#x27;vue&#x27; // æ˜¾å¼å¯¼å…¥</span><br><span class="line">import Child from &#x27;./Child.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">        Child</span><br><span class="line">    &#125;,</span><br><span class="line">    setup()&#123;</span><br><span class="line">        provide(&#x27;num&#x27;, 789)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Sun.vueå­™å­ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h4&gt;å­™å­ç»„ä»¶ï¼š&#123;&#123;mynum&#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;inject&#125; from &#x27;vue&#x27; // æ˜¾å¼å¯¼å…¥</span><br><span class="line">export default &#123;</span><br><span class="line">    setup()&#123;</span><br><span class="line">        const mynum = inject(&#x27;num&#x27;);</span><br><span class="line">        return &#123;mynum&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3ã€å“åº”æ€§"><a href="#3ã€å“åº”æ€§" class="headerlink" title="3ã€å“åº”æ€§"></a>3ã€å“åº”æ€§</h3><p>æ‰€è°“çš„ <code>Provide/Inject</code> å“åº”æ€§ï¼Œå…¶å®å°±æ˜¯æŠŠä¼ é€’çš„å€¼ç»“åˆä¸Šæ–‡æåŠçš„ <code>ref</code> æˆ– <code>reactive</code> ä¸€èµ·ä½¿ç”¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- Father.vueçˆ¶ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Child /&gt;</span><br><span class="line">  &lt;button @click=&quot;changeNumFn&quot;&gt;ä¿®æ”¹num&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;provide, ref&#125; from &#x27;vue&#x27; // æ˜¾å¼å¯¼å…¥</span><br><span class="line">import Child from &#x27;./Child.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">        Child</span><br><span class="line">    &#125;,</span><br><span class="line">    setup()&#123;</span><br><span class="line">      	// ä½¿ç”¨refæ¥å®šä¹‰numçš„å€¼</span><br><span class="line">        const num = ref(123);</span><br><span class="line"></span><br><span class="line">      	// å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œä¸“é—¨ç”¨äºä¿®æ”¹num</span><br><span class="line">        let changeNumFn = () =&gt; &#123;</span><br><span class="line">            num.value = 456;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        provide(&#x27;num&#x27;, num)</span><br><span class="line"></span><br><span class="line">      	// è¿”å›è¿™ä¸ªå‡½æ•°</span><br><span class="line">        return &#123;changeNumFn&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œå½“ä½ ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå­™å­ç»„ä»¶æ¥æ”¶åˆ°çš„ <code>num</code> å°±ä¼šè¢«ä¿®æ”¹äº†ã€‚</p>
<h2 id="å››ã€Teleportï¼ˆä¼ é€é—¨ï¼‰ã€æŒæ¡ã€‘"><a href="#å››ã€Teleportï¼ˆä¼ é€é—¨ï¼‰ã€æŒæ¡ã€‘" class="headerlink" title="å››ã€Teleportï¼ˆä¼ é€é—¨ï¼‰ã€æŒæ¡ã€‘"></a>å››ã€Teleportï¼ˆä¼ é€é—¨ï¼‰ã€æŒæ¡ã€‘</h2><p>åœ¨vue2ä¸­ï¼Œæƒ³è¦å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ°å­˜åœ¨äºçˆ¶ç»„ä»¶ä»¥å¤–çš„ <code>DOM</code> èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦é€šè¿‡ç¬¬ä¸‰æ–¹åº“ <a href="https://links.jianshu.com/go?to=https://github.com/LinusBorg/portal-vue">portal-vue</a> å»å®ç°ã€‚è€Œvue3ä¸­ï¼Œ<code>Teleport</code> æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„æ¨¡æ¿ç§»åŠ¨åˆ° <code>DOM</code> ä¸­ <code>Vue app</code> ä¹‹å¤–çš„å…¶ä»–ä½ç½®çš„æŠ€æœ¯ã€‚</p>
<blockquote>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://vue3js.cn/docs/zh/guide/teleport.html">ã€Šteleportã€‹</a></p>
</blockquote>
<p>ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š</p>
<p>æˆ‘ä»¬åœ¨ <code>index.html</code> ä¸­ <code>#app</code> åŒçº§çš„åœ°æ–¹æ–°å¢ä¸€ä¸ª <code>#test</code> å…ƒç´ ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç”±äºvueçš„ <code>main.js</code> ä¸­è§„å®šäº†æ‰“åŒ…å‡ºæ¥çš„ä»£ç éƒ½æ”¾å…¥ <code>#app</code> ä¸­ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">createApp(App).mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼Œä½ ç°åœ¨æ²¡æœ‰åŠæ³•å°†ä»£ç æ”¾å…¥ <code>#test</code> ä¸­ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¼ é€é—¨ï¼š</p>
<p><code>App.vue</code> ä¸­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Home /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Home from &#x27;./components/Home.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Home</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><code>Home.vue</code> ä¸­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;p&gt;è¿™æ®µè¯æ˜¯æ¸²æŸ“åœ¨#appä¸­çš„&lt;/p&gt;</span><br><span class="line">  &lt;teleport to=&quot;#test&quot;&gt;</span><br><span class="line">      &lt;p&gt;è¿™æ®µè¯æ˜¯æ¸²æŸ“åœ¨#testä¸­çš„--1&lt;/p&gt;</span><br><span class="line">  &lt;/teleport&gt;</span><br><span class="line">	&lt;teleport to=&quot;#test&quot;&gt;</span><br><span class="line">      &lt;p&gt;è¿™æ®µè¯æ˜¯æ¸²æŸ“åœ¨#testä¸­çš„--2&lt;/p&gt;</span><br><span class="line">  &lt;/teleport&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œä½ æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œå°±å¯ä»¥çœ‹åˆ°ç¬¬2ã€3ä¸ªpæ ‡ç­¾å·²ç»è¢«æ¸²æŸ“åˆ° <code>#test</code> ä¸­ã€‚</p>
<blockquote>
<p>å¤‡æ³¨ï¼š</p>
<p>1ã€<teleport>æ ‡ç­¾èº«ä¸Šéƒ½toå±æ€§ï¼Œå¡«å†™çš„æ˜¯cssé€‰æ‹©å™¨ã€‚</teleport></p>
<p>2ã€å¤šä¸ªä¼ é€é—¨ä¹¦å†™æ—¶ï¼Œä¼šæŒ‰ç…§è‡ªä¸Šè€Œä¸‹çš„é¡ºåºä¼ é€è‡³å¦ä¸€ä¸ªDOMå…ƒç´ ã€‚</p>
</blockquote>
<h2 id="äº”ã€Suspenseï¼ˆç­‰å¾…ï¼‰ã€æŒæ¡ã€‘"><a href="#äº”ã€Suspenseï¼ˆç­‰å¾…ï¼‰ã€æŒæ¡ã€‘" class="headerlink" title="äº”ã€Suspenseï¼ˆç­‰å¾…ï¼‰ã€æŒæ¡ã€‘"></a>äº”ã€Suspenseï¼ˆç­‰å¾…ï¼‰ã€æŒæ¡ã€‘</h2><p>Suspenseç»„ä»¶ç”¨äºåœ¨ç­‰å¾…æŸä¸ªå¼‚æ­¥ç»„ä»¶è§£ææ—¶æ˜¾ç¤ºåå¤‡å†…å®¹ã€‚</p>
<p>é‚£æˆ‘ä»¬ä»€ä¹ˆæ—¶å€™éœ€è¦ä½¿ç”¨å¼‚æ­¥ç»„ä»¶å‘¢ï¼Ÿå¤šäº†å»äº†ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>åœ¨é¡µé¢åŠ è½½ä¹‹å‰æ˜¾ç¤ºåŠ è½½åŠ¨ç”»</li>
<li>æ˜¾ç¤ºå ä½ç¬¦å†…å®¹</li>
<li>å¤„ç†å»¶è¿ŸåŠ è½½çš„å›¾åƒ</li>
</ul>
<p>é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ <code>Suspense</code> æ€ä¹ˆä½¿ç”¨ï¼Œæˆ‘ä»¬å…ˆæ¥æä¸€ä¸ªéœ€æ±‚ï¼š</p>
<blockquote>
<p>åœ¨ç­‰å¾…ç»„ä»¶è·å–æ•°æ®å¹¶è§£ææ—¶æ˜¾ç¤ºâ€œç©å‘½åŠ è½½ä¸­â€¦â€ä¹‹ç±»çš„å†…å®¹</p>
</blockquote>
<p>OKï¼Œæˆ‘ä»¬æ¥å†™ä¸€ä¸ª <code>Article.vue</code> ç»„ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;p&gt;&#123;&#123; content &#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">export default&#123;</span><br><span class="line">  async setup() &#123;</span><br><span class="line">    let content = ref(&#x27;å†…å®¹&#x27;)</span><br><span class="line">    content.value = await new Promise((resolve,reject)=&gt;&#123;</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            // 3ç§’åä¿®æ”¹content</span><br><span class="line">            resolve(&quot;ä½ å¥½ä¸–ç•Œ&quot;);</span><br><span class="line">        &#125;, 3000);</span><br><span class="line">    &#125;)</span><br><span class="line">    return &#123;content&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ç”¨ä¸ª <code>Home.vue</code> ç»„ä»¶æ¥è°ƒç”¨å®ƒï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template</span><br><span class="line">  &lt;Suspense&gt;</span><br><span class="line">      &lt;template #default&gt;</span><br><span class="line">          &lt;Article&gt;&lt;/Article&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">      &lt;template #fallback&gt;</span><br><span class="line">          &lt;p&gt;ç©å‘½åŠ è½½ä¸­...&lt;/p&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">  &lt;/Suspense&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Article from &#x27;./Article.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    components:&#123;</span><br><span class="line">        Article</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºï¼Œ<code>&lt;Suspense&gt;</code> ä¸­ï¼ŒåŒ…å«äº†ä¸¤ä¸ªtemplateæ ‡ç­¾ï¼Œ<code>#default</code> å®šä¹‰äº†æˆ‘ä»¬è¦å†™å…¥çš„å†…å®¹ï¼Œ <code>#fallback</code> å®šä¹‰äº†æˆ‘ä»¬è¦é¢„æ˜¾ç¤ºçš„å†…å®¹ã€‚</p>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š</p>
<p>ä½œä¸ºtemplateä¸­çš„å†…å®¹ï¼ˆå³æ’æ§½ï¼‰ï¼Œå¿…é¡»è¦æœ‰æ ¹å…ƒç´ ã€‚</p>
</blockquote>
<h2 id="å…­ã€Fragmentï¼ˆç¢ç‰‡ï¼‰ã€äº†è§£ã€‘"><a href="#å…­ã€Fragmentï¼ˆç¢ç‰‡ï¼‰ã€äº†è§£ã€‘" class="headerlink" title="å…­ã€Fragmentï¼ˆç¢ç‰‡ï¼‰ã€äº†è§£ã€‘"></a>å…­ã€Fragmentï¼ˆç¢ç‰‡ï¼‰ã€äº†è§£ã€‘</h2><p>vue2ä¸­ï¼Œå¦‚æœä½ åˆ›å»ºä¸€ä¸ªVueç»„ä»¶ï¼Œé‚£ä¹ˆå®ƒåªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ã€‚è¿™æ„å‘³ç€ä¸èƒ½åˆ›å»ºè¿™æ ·çš„ç»„ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;ä½ å¥½&lt;/div&gt;</span><br><span class="line">	&lt;div&gt;ä¸–ç•Œ&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>åŸå› æ˜¯ä»£è¡¨ä»»ä½•Vueç»„ä»¶çš„Vueå®ä¾‹éœ€è¦ç»‘å®šåˆ°ä¸€ä¸ªå•ä¸€çš„DOMå…ƒç´ ä¸­ã€‚å”¯ä¸€å¯ä»¥åˆ›å»ºä¸€ä¸ªå…·æœ‰å¤šä¸ªDOMèŠ‚ç‚¹çš„ç»„ä»¶çš„æ–¹æ³•å°±æ˜¯åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åº•å±‚Vueå®ä¾‹çš„åŠŸèƒ½ç»„ä»¶ã€‚</p>
<p>è¿™æƒ…å†µåŒæ ·å­˜åœ¨äºreactï¼Œä½†reactå¯ä»¥ä½¿ç”¨ç©ºæ ‡ç­¾ <code>&lt;&gt;&lt;/&gt;</code> æ¥åŒ…è£¹ï¼Œæˆ–è€…æ˜¯ä½¿ç”¨ä¸€ä¸ªåä¸ºFragmentçš„è™šæ‹Ÿå…ƒç´ ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Columns</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">    	<span class="xml"><span class="tag">&lt;<span class="name">React.Fragment</span>&gt;</span></span></span><br><span class="line"><span class="xml">      	<span class="tag">&lt;<span class="name">td</span>&gt;</span>ä½ å¥½<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>ä¸–ç•Œ<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">React.Fragment</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°½ç®¡Fragmentçœ‹èµ·æ¥åƒä¸€ä¸ªæ™®é€šçš„DOMå…ƒç´ ï¼Œä½†å®ƒæ˜¯è™šæ‹Ÿçš„ï¼Œæ ¹æœ¬ä¸ä¼šåœ¨DOMæ ‘ä¸­å‘ˆç°ã€‚ç›®å‰ä½ å¯ä»¥åœ¨Vue 2ä¸­ä½¿ç”¨vue-fragmentsåº“æ¥ä½¿ç”¨Fragmentsï¼Œè€Œåœ¨Vue 3ä¸­ï¼Œä½ ç›´æ¥ä½¿ç”¨å°±è¡Œäº†ï¼Œæ— éœ€å¼•å…¥ä»»ä½•åº“ã€‚</p>
<h2 id="ä¸ƒã€TreeShakingï¼ˆæ¶ˆé™¤æœªä½¿ç”¨ä»£ç ï¼‰ã€äº†è§£ã€‘"><a href="#ä¸ƒã€TreeShakingï¼ˆæ¶ˆé™¤æœªä½¿ç”¨ä»£ç ï¼‰ã€äº†è§£ã€‘" class="headerlink" title="ä¸ƒã€TreeShakingï¼ˆæ¶ˆé™¤æœªä½¿ç”¨ä»£ç ï¼‰ã€äº†è§£ã€‘"></a>ä¸ƒã€TreeShakingï¼ˆæ¶ˆé™¤æœªä½¿ç”¨ä»£ç ï¼‰ã€äº†è§£ã€‘</h2><p>TreeShaking æ˜¯ä¸€ä¸ªæœ¯è¯­ï¼ŒæŒ‡çš„æ˜¯åœ¨æ‰“åŒ…æ„å»ºè¿‡ç¨‹ä¸­ç§»é™¤æ²¡æœ‰è¢«å¼•ç”¨åˆ°çš„ä»£ç ï¼Œè¿™äº›ä»£ç å¯ä»¥æˆä¸º <strong>dead code</strong>ã€‚è¿™ä¸ªæ¦‚å¿µæœ€æ—©åœ¨åŸºäº ES6 çš„æ‰“åŒ…å·¥å…· Rollup ä¸­æå‡ºï¼Œåæ¥è¢«å¼•å…¥åˆ° webpack ä¸­ã€‚TreeShaking æ¯”è¾ƒä¾èµ–äº ES6 æ¨¡å—ç³»ç»Ÿçš„é™æ€ç»“æ„ç‰¹æ€§ï¼Œæ¯”å¦‚ <code>import</code> å’Œ <code>export</code>ã€‚</p>
<p>æ–‡æ¡£å‚è€ƒï¼š<a href="https://vue3js.cn/docs/zh/guide/migration/global-api-treeshaking.html#_2-x-%E8%AF%AD%E6%B3%95">https://vue3js.cn/docs/zh/guide/migration/global-api-treeshaking.html#_2-x-%E8%AF%AD%E6%B3%95</a></p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>vue2ä¸­æˆ‘ä»¬å¸¸ä½¿ç”¨ <code>Vue.nextTick(()=&gt;&#123;&#125;)</code> æ¥é¢„æ“ä½œDOMï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬ä¸ç”¨è¿™ä¸ª <code>nextTick</code> ï¼Œæ¯”å¦‚æ”¹ç”¨åˆ«çš„æ–¹å¼æ¥ä»£æ›¿ï¼ˆå¦‚setTimeoutï¼‰ï¼Œé‚£ä¹ˆé¡¹ç›®æ‰“åŒ…æ—¶ï¼Œvue å…¨å±€çš„ <code>nextTick</code> å°±æˆä¸ºä¸€ä¸ªå¤šä½™çš„ä»£ç ï¼Œä»è€Œä½¿ä½ çš„é¡¹ç›®æ‰“åŒ…ä½“ç§¯å˜å¤§ã€‚</p>
<p>åœ¨vue3ä¸­ï¼Œå®˜æ–¹å›¢é˜Ÿé‡æ„äº†æ‰€æœ‰å…¨å±€ API çš„ç»„ç»‡æ–¹å¼ï¼Œè®©æ‰€æœ‰çš„ API éƒ½æ”¯æŒäº† TreeShakingã€‚æ‰€ä»¥vue3ä¸­å¦‚æœè¿˜æƒ³ä½¿ç”¨å…¨å±€çš„ <code>nextTick</code> ï¼Œå°±éœ€è¦å¼•å…¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; nextTick &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// å’Œ DOM æœ‰å…³çš„ä¸€äº›æ“ä½œ</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ åœ¨ Vue 3 ä¸­ä¸å¼•å…¥è€Œç›´æ¥è°ƒç”¨ <code>Vue.nextTick()</code> ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªæŠ¥é”™ï¼š<code>undefined is not a function</code>ã€‚</p>
<p>å®˜æ–¹ä¹Ÿç»™å‡ºäº†Vue 2.x ä¸­çš„å—æ­¤æ›´æ”¹å½±å“çš„å…¨å±€ APIï¼š</p>
<ul>
<li><code>Vue.nextTick</code></li>
<li><code>Vue.observable</code> (ç”¨ <code>Vue.reactive</code> æ›¿æ¢)</li>
<li><code>Vue.version</code></li>
<li><code>Vue.compile</code> (ä»…å…¨æ„å»º)</li>
<li><code>Vue.set</code> (ä»…å…¼å®¹æ„å»º)</li>
<li><code>Vue.delete</code> (ä»…å…¼å®¹æ„å»º)</li>
</ul>
<h2 id="å…«ã€Performanceï¼ˆæ€§èƒ½ï¼‰ã€äº†è§£ã€‘"><a href="#å…«ã€Performanceï¼ˆæ€§èƒ½ï¼‰ã€äº†è§£ã€‘" class="headerlink" title="å…«ã€Performanceï¼ˆæ€§èƒ½ï¼‰ã€äº†è§£ã€‘"></a>å…«ã€Performanceï¼ˆæ€§èƒ½ï¼‰ã€äº†è§£ã€‘</h2><p>vue3.0ç›¸å¯¹äºvue2.0æ¥è¯´æ€§èƒ½å¿«1.2åˆ°1.5å€ï¼Œä¸»è¦åŸå› å¦‚ä¸‹ï¼š</p>
<h3 id="1ã€diffæ–¹æ³•ä¼˜åŒ–"><a href="#1ã€diffæ–¹æ³•ä¼˜åŒ–" class="headerlink" title="1ã€diffæ–¹æ³•ä¼˜åŒ–"></a>1ã€diffæ–¹æ³•ä¼˜åŒ–</h3><ul>
<li>Vue2 ä¸­çš„è™šæ‹Ÿdomæ˜¯è¿›è¡Œå…¨é‡çš„å¯¹æ¯”</li>
<li>Vue3 æ–°å¢äº†é™æ€æ ‡è®°ï¼ˆPatchFlagï¼‰ï¼Œåªæ¯”å¯¹å¸¦æœ‰ PF çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”é€šè¿‡ Flag çš„ä¿¡æ¯å¾—çŸ¥ å½“å‰èŠ‚ç‚¹è¦æ¯”å¯¹çš„å…·ä½“å†…å®¹ã€‚</li>
</ul>
<h3 id="2ã€é™æ€æå‡"><a href="#2ã€é™æ€æå‡" class="headerlink" title="2ã€é™æ€æå‡"></a>2ã€é™æ€æå‡</h3><ul>
<li>Vue2ä¸­æ— è®ºå…ƒç´ æ˜¯å¦å‚ä¸æ›´æ–°, æ¯æ¬¡éƒ½ä¼šé‡æ–°åˆ›å»º, ç„¶åå†æ¸²æŸ“</li>
<li>Vue3ä¸­å¯¹äºä¸å‚ä¸æ›´æ–°çš„å…ƒç´ , ä¼šåšé™æ€æå‡, åªä¼šè¢«åˆ›å»ºä¸€æ¬¡, åœ¨æ¸²æŸ“æ—¶ç›´æ¥å¤ç”¨å³å¯</li>
</ul>
<h3 id="3ã€cacheHandlers-äº‹ä»¶ä¾¦å¬å™¨ç¼“å­˜"><a href="#3ã€cacheHandlers-äº‹ä»¶ä¾¦å¬å™¨ç¼“å­˜" class="headerlink" title="3ã€cacheHandlers äº‹ä»¶ä¾¦å¬å™¨ç¼“å­˜"></a>3ã€cacheHandlers äº‹ä»¶ä¾¦å¬å™¨ç¼“å­˜</h3><ul>
<li>é»˜è®¤æƒ…å†µä¸‹onClickä¼šè¢«è§†ä¸ºåŠ¨æ€ç»‘å®š, æ‰€ä»¥æ¯æ¬¡éƒ½ä¼šå»è¿½è¸ªå®ƒçš„å˜åŒ–</li>
<li>ä½†æ˜¯å› ä¸ºæ˜¯åŒä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥æ²¡æœ‰è¿½è¸ªå˜åŒ–, ç›´æ¥ç¼“å­˜èµ·æ¥å¤ç”¨å³å¯</li>
</ul>
<h3 id="4ã€ssræ¸²æŸ“"><a href="#4ã€ssræ¸²æŸ“" class="headerlink" title="4ã€ssræ¸²æŸ“"></a>4ã€ssræ¸²æŸ“</h3><ul>
<li>å½“æœ‰å¤§é‡é™æ€çš„å†…å®¹æ—¶å€™ï¼Œè¿™äº›å†…å®¹ä¼šè¢«å½“åšçº¯å­—ç¬¦ä¸²æ¨è¿›ä¸€ä¸ªbufferé‡Œé¢ï¼Œ  å³ä½¿å­˜åœ¨åŠ¨æ€çš„ç»‘å®šï¼Œä¼šé€šè¿‡æ¨¡æ¿æ’å€¼åµŒå…¥è¿›å»ã€‚è¿™æ ·ä¼šæ¯”é€šè¿‡è™šæ‹Ÿdmoæ¥æ¸²æŸ“çš„å¿«ä¸Šå¾ˆå¤šå¾ˆå¤šã€‚</li>
<li>å½“é™æ€å†…å®¹å¤§åˆ°ä¸€å®šé‡çº§æ—¶å€™ï¼Œä¼šç”¨_createStaticVNodeæ–¹æ³•åœ¨å®¢æˆ·ç«¯å»ç”Ÿæˆä¸€ä¸ªstatic nodeï¼Œ  è¿™äº›é™æ€nodeï¼Œä¼šè¢«ç›´æ¥innerHtmlï¼Œå°±ä¸éœ€è¦åˆ›å»ºå¯¹è±¡ï¼Œç„¶åæ ¹æ®å¯¹è±¡æ¸²æŸ“ã€‚</li>
</ul>
<h2 id="ä¹ã€Setupçš„ç”Ÿå‘½å‘¨æœŸã€äº†è§£ã€‘"><a href="#ä¹ã€Setupçš„ç”Ÿå‘½å‘¨æœŸã€äº†è§£ã€‘" class="headerlink" title="ä¹ã€Setupçš„ç”Ÿå‘½å‘¨æœŸã€äº†è§£ã€‘"></a>ä¹ã€Setupçš„ç”Ÿå‘½å‘¨æœŸã€äº†è§£ã€‘</h2><p>ç»„åˆå¼APIéœ€è¦åœ¨setupä¸­ä½¿ç”¨ï¼Œsetupä¸­å«æœ‰çš„ç”Ÿå‘½é’©å­ä¸vueçš„å¤§ä½“ä¸€è‡´ï¼š</p>
<p>å…·ä½“å‚è€ƒï¼š<a href="https://vue3js.cn/docs/zh/guide/composition-api-lifecycle-hooks.html">ã€Šsetupç”Ÿå‘½å‘¨æœŸé’©å­ã€‹</a></p>
<h2 id="åã€TypeScriptæ”¯æŒã€äº†è§£ã€‘"><a href="#åã€TypeScriptæ”¯æŒã€äº†è§£ã€‘" class="headerlink" title="åã€TypeScriptæ”¯æŒã€äº†è§£ã€‘"></a>åã€TypeScriptæ”¯æŒã€äº†è§£ã€‘</h2><p>vue3æ–°å¢äº†å¯¹TSè¯­æ³•çš„æ”¯æŒã€‚</p>
]]></content>
  </entry>
</search>
